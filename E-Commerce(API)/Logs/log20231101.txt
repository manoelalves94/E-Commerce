2023-11-01 13:12:16.653 -03:00 [INF] Inicialização da WEB API...
2023-11-01 13:12:19.456 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE `e-commerce(api)`;
2023-11-01 13:12:19.584 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `__EFMigrationsHistory` (
    `MigrationId` varchar(150) CHARACTER SET utf8mb4 NOT NULL,
    `ProductVersion` varchar(32) CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK___EFMigrationsHistory` PRIMARY KEY (`MigrationId`)
) CHARACTER SET=utf8mb4;
2023-11-01 13:12:19.607 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='e-commerce(api)' AND TABLE_NAME='__EFMigrationsHistory';
2023-11-01 13:12:19.614 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2023-11-01 13:12:19.629 -03:00 [INF] Applying migration '20230519133132_CriandoTabelaDeCategoria'.
2023-11-01 13:12:19.645 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2023-11-01 13:12:19.653 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Categorias` (
    `Id` char(36) COLLATE ascii_general_ci NOT NULL,
    `Nome` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Status` tinyint(1) NOT NULL,
    `DataEHoraCriacao` datetime(6) NOT NULL,
    `DataEHoraModificacao` datetime(6) NOT NULL,
    CONSTRAINT `PK_Categorias` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2023-11-01 13:12:19.654 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20230519133132_CriandoTabelaDeCategoria', '7.0.5');
2023-11-01 13:12:19.655 -03:00 [INF] Applying migration '20230602194742_CriandoTabelaDeSubcategoria'.
2023-11-01 13:12:19.677 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Subcategorias` (
    `Id` char(36) COLLATE ascii_general_ci NOT NULL,
    `Nome` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Status` tinyint(1) NOT NULL,
    `DataEHoraCriacao` datetime(6) NOT NULL,
    `DataEHoraModificacao` datetime(6) NOT NULL,
    `CategoriaId` char(36) COLLATE ascii_general_ci NOT NULL,
    CONSTRAINT `PK_Subcategorias` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Subcategorias_Categorias_CategoriaId` FOREIGN KEY (`CategoriaId`) REFERENCES `Categorias` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2023-11-01 13:12:19.686 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Subcategorias_CategoriaId` ON `Subcategorias` (`CategoriaId`);
2023-11-01 13:12:19.687 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20230602194742_CriandoTabelaDeSubcategoria', '7.0.5');
2023-11-01 13:12:19.687 -03:00 [INF] Applying migration '20230616144547_CriandoTabelaDeProduto'.
2023-11-01 13:12:19.708 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Produtos` (
    `Id` char(36) COLLATE ascii_general_ci NOT NULL,
    `Nome` varchar(128) CHARACTER SET utf8mb4 NOT NULL,
    `Descricao` varchar(512) CHARACTER SET utf8mb4 NOT NULL,
    `Peso` double NOT NULL,
    `Altura` double NOT NULL,
    `Largura` double NOT NULL,
    `Comprimento` double NOT NULL,
    `Valor` double NOT NULL,
    `QuantidadeEmEstoque` int NOT NULL,
    `Status` tinyint(1) NOT NULL,
    `DataEHoraCriacao` datetime(6) NOT NULL,
    `DataEHoraModificacao` datetime(6) NOT NULL,
    `SubcategoriaId` char(36) COLLATE ascii_general_ci NOT NULL,
    `CentroDeDistribuicao` longtext CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK_Produtos` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Produtos_Subcategorias_SubcategoriaId` FOREIGN KEY (`SubcategoriaId`) REFERENCES `Subcategorias` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2023-11-01 13:12:19.729 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Produtos_SubcategoriaId` ON `Produtos` (`SubcategoriaId`);
2023-11-01 13:12:19.730 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20230616144547_CriandoTabelaDeProduto', '7.0.5');
2023-11-01 13:12:19.730 -03:00 [INF] Applying migration '20230704143118_CriandoTabelaDeCD'.
2023-11-01 13:12:19.748 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Produtos` DROP COLUMN `CentroDeDistribuicao`;
2023-11-01 13:12:19.756 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Produtos` ADD `CentroDeDistribuicaoId` char(36) COLLATE ascii_general_ci NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2023-11-01 13:12:19.765 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `CentrosDeDistribuicao` (
    `Id` char(36) COLLATE ascii_general_ci NOT NULL,
    `Nome` varchar(128) CHARACTER SET utf8mb4 NOT NULL,
    `Logradouro` varchar(128) CHARACTER SET utf8mb4 NOT NULL,
    `Numero` int NOT NULL,
    `Complemento` varchar(128) CHARACTER SET utf8mb4 NOT NULL,
    `Bairro` varchar(128) CHARACTER SET utf8mb4 NOT NULL,
    `Cidade` varchar(128) CHARACTER SET utf8mb4 NOT NULL,
    `UF` longtext CHARACTER SET utf8mb4 NOT NULL,
    `CEP` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Status` tinyint(1) NOT NULL,
    `DataEHoraCriacao` datetime(6) NOT NULL,
    `DataEHoraModificacao` datetime(6) NOT NULL,
    CONSTRAINT `PK_CentrosDeDistribuicao` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2023-11-01 13:12:19.773 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Produtos_CentroDeDistribuicaoId` ON `Produtos` (`CentroDeDistribuicaoId`);
2023-11-01 13:12:19.798 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Produtos` ADD CONSTRAINT `FK_Produtos_CentrosDeDistribuicao_CentroDeDistribuicaoId` FOREIGN KEY (`CentroDeDistribuicaoId`) REFERENCES `CentrosDeDistribuicao` (`Id`) ON DELETE CASCADE;
2023-11-01 13:12:19.799 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20230704143118_CriandoTabelaDeCD', '7.0.5');
2023-11-01 13:12:19.800 -03:00 [INF] Applying migration '20230922150346_CriandoTabelasCarrinhoDeComprasEProdutoNoCarrinho'.
2023-11-01 13:12:19.836 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CentrosDeDistribuicao` MODIFY COLUMN `UF` varchar(2) CHARACTER SET utf8mb4 NOT NULL;
2023-11-01 13:12:19.857 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CentrosDeDistribuicao` MODIFY COLUMN `Numero` int unsigned NOT NULL;
2023-11-01 13:12:19.899 -03:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CentrosDeDistribuicao` MODIFY COLUMN `CEP` varchar(8) CHARACTER SET utf8mb4 NOT NULL;
2023-11-01 13:12:19.908 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `CarrinhosDeCompras` (
    `Id` char(36) COLLATE ascii_general_ci NOT NULL,
    `ValorTotal` double NOT NULL,
    `Logradouro` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Numero` int unsigned NOT NULL,
    `Complemento` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Bairro` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Cidade` longtext CHARACTER SET utf8mb4 NOT NULL,
    `UF` longtext CHARACTER SET utf8mb4 NOT NULL,
    `CEP` longtext CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK_CarrinhosDeCompras` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2023-11-01 13:12:19.915 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `ProdutosNoCarrinho` (
    `CarrinhoDeComprasId` char(36) COLLATE ascii_general_ci NOT NULL,
    `ProdutoId` char(36) COLLATE ascii_general_ci NOT NULL,
    `Quantidade` int unsigned NOT NULL
) CHARACTER SET=utf8mb4;
2023-11-01 13:12:19.916 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20230922150346_CriandoTabelasCarrinhoDeComprasEProdutoNoCarrinho', '7.0.5');
2023-11-01 13:12:19.917 -03:00 [INF] Applying migration '20230922153614_UpdateTabelaProdutosNoCarrinhoId'.
2023-11-01 13:12:19.931 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP PROCEDURE IF EXISTS `POMELO_AFTER_ADD_PRIMARY_KEY`;
CREATE PROCEDURE `POMELO_AFTER_ADD_PRIMARY_KEY`(IN `SCHEMA_NAME_ARGUMENT` VARCHAR(255), IN `TABLE_NAME_ARGUMENT` VARCHAR(255), IN `COLUMN_NAME_ARGUMENT` VARCHAR(255))
BEGIN
	DECLARE HAS_AUTO_INCREMENT_ID INT(11);
	DECLARE PRIMARY_KEY_COLUMN_NAME VARCHAR(255);
	DECLARE PRIMARY_KEY_TYPE VARCHAR(255);
	DECLARE SQL_EXP VARCHAR(1000);
	SELECT COUNT(*)
		INTO HAS_AUTO_INCREMENT_ID
		FROM `information_schema`.`COLUMNS`
		WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
			AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
			AND `COLUMN_NAME` = COLUMN_NAME_ARGUMENT
			AND `COLUMN_TYPE` LIKE '%int%'
			AND `COLUMN_KEY` = 'PRI';
	IF HAS_AUTO_INCREMENT_ID THEN
		SELECT `COLUMN_TYPE`
			INTO PRIMARY_KEY_TYPE
			FROM `information_schema`.`COLUMNS`
			WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
				AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
				AND `COLUMN_NAME` = COLUMN_NAME_ARGUMENT
				AND `COLUMN_TYPE` LIKE '%int%'
				AND `COLUMN_KEY` = 'PRI';
		SELECT `COLUMN_NAME`
			INTO PRIMARY_KEY_COLUMN_NAME
			FROM `information_schema`.`COLUMNS`
			WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
				AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
				AND `COLUMN_NAME` = COLUMN_NAME_ARGUMENT
				AND `COLUMN_TYPE` LIKE '%int%'
				AND `COLUMN_KEY` = 'PRI';
		SET SQL_EXP = CONCAT('ALTER TABLE `', (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA())), '`.`', TABLE_NAME_ARGUMENT, '` MODIFY COLUMN `', PRIMARY_KEY_COLUMN_NAME, '` ', PRIMARY_KEY_TYPE, ' NOT NULL AUTO_INCREMENT;');
		SET @SQL_EXP = SQL_EXP;
		PREPARE SQL_EXP_EXECUTE FROM @SQL_EXP;
		EXECUTE SQL_EXP_EXECUTE;
		DEALLOCATE PREPARE SQL_EXP_EXECUTE;
	END IF;
END;
2023-11-01 13:12:19.936 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProdutosNoCarrinho` ADD `Id` char(36) COLLATE ascii_general_ci NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2023-11-01 13:12:19.951 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProdutosNoCarrinho` ADD CONSTRAINT `PK_ProdutosNoCarrinho` PRIMARY KEY (`Id`);
CALL POMELO_AFTER_ADD_PRIMARY_KEY(NULL, 'ProdutosNoCarrinho', 'Id');
2023-11-01 13:12:19.952 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20230922153614_UpdateTabelaProdutosNoCarrinhoId', '7.0.5');
2023-11-01 13:12:19.954 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP PROCEDURE `POMELO_AFTER_ADD_PRIMARY_KEY`;
2023-11-01 13:12:19.954 -03:00 [INF] Applying migration '20230922190548_CarrinhoDeComprasEProdutos'.
2023-11-01 13:12:19.965 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP PROCEDURE IF EXISTS `POMELO_BEFORE_DROP_PRIMARY_KEY`;
CREATE PROCEDURE `POMELO_BEFORE_DROP_PRIMARY_KEY`(IN `SCHEMA_NAME_ARGUMENT` VARCHAR(255), IN `TABLE_NAME_ARGUMENT` VARCHAR(255))
BEGIN
	DECLARE HAS_AUTO_INCREMENT_ID TINYINT(1);
	DECLARE PRIMARY_KEY_COLUMN_NAME VARCHAR(255);
	DECLARE PRIMARY_KEY_TYPE VARCHAR(255);
	DECLARE SQL_EXP VARCHAR(1000);
	SELECT COUNT(*)
		INTO HAS_AUTO_INCREMENT_ID
		FROM `information_schema`.`COLUMNS`
		WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
			AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
			AND `Extra` = 'auto_increment'
			AND `COLUMN_KEY` = 'PRI'
			LIMIT 1;
	IF HAS_AUTO_INCREMENT_ID THEN
		SELECT `COLUMN_TYPE`
			INTO PRIMARY_KEY_TYPE
			FROM `information_schema`.`COLUMNS`
			WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
				AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
				AND `COLUMN_KEY` = 'PRI'
			LIMIT 1;
		SELECT `COLUMN_NAME`
			INTO PRIMARY_KEY_COLUMN_NAME
			FROM `information_schema`.`COLUMNS`
			WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
				AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
				AND `COLUMN_KEY` = 'PRI'
			LIMIT 1;
		SET SQL_EXP = CONCAT('ALTER TABLE `', (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA())), '`.`', TABLE_NAME_ARGUMENT, '` MODIFY COLUMN `', PRIMARY_KEY_COLUMN_NAME, '` ', PRIMARY_KEY_TYPE, ' NOT NULL;');
		SET @SQL_EXP = SQL_EXP;
		PREPARE SQL_EXP_EXECUTE FROM @SQL_EXP;
		EXECUTE SQL_EXP_EXECUTE;
		DEALLOCATE PREPARE SQL_EXP_EXECUTE;
	END IF;
END;
2023-11-01 13:12:19.967 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP PROCEDURE IF EXISTS `POMELO_AFTER_ADD_PRIMARY_KEY`;
CREATE PROCEDURE `POMELO_AFTER_ADD_PRIMARY_KEY`(IN `SCHEMA_NAME_ARGUMENT` VARCHAR(255), IN `TABLE_NAME_ARGUMENT` VARCHAR(255), IN `COLUMN_NAME_ARGUMENT` VARCHAR(255))
BEGIN
	DECLARE HAS_AUTO_INCREMENT_ID INT(11);
	DECLARE PRIMARY_KEY_COLUMN_NAME VARCHAR(255);
	DECLARE PRIMARY_KEY_TYPE VARCHAR(255);
	DECLARE SQL_EXP VARCHAR(1000);
	SELECT COUNT(*)
		INTO HAS_AUTO_INCREMENT_ID
		FROM `information_schema`.`COLUMNS`
		WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
			AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
			AND `COLUMN_NAME` = COLUMN_NAME_ARGUMENT
			AND `COLUMN_TYPE` LIKE '%int%'
			AND `COLUMN_KEY` = 'PRI';
	IF HAS_AUTO_INCREMENT_ID THEN
		SELECT `COLUMN_TYPE`
			INTO PRIMARY_KEY_TYPE
			FROM `information_schema`.`COLUMNS`
			WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
				AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
				AND `COLUMN_NAME` = COLUMN_NAME_ARGUMENT
				AND `COLUMN_TYPE` LIKE '%int%'
				AND `COLUMN_KEY` = 'PRI';
		SELECT `COLUMN_NAME`
			INTO PRIMARY_KEY_COLUMN_NAME
			FROM `information_schema`.`COLUMNS`
			WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
				AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
				AND `COLUMN_NAME` = COLUMN_NAME_ARGUMENT
				AND `COLUMN_TYPE` LIKE '%int%'
				AND `COLUMN_KEY` = 'PRI';
		SET SQL_EXP = CONCAT('ALTER TABLE `', (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA())), '`.`', TABLE_NAME_ARGUMENT, '` MODIFY COLUMN `', PRIMARY_KEY_COLUMN_NAME, '` ', PRIMARY_KEY_TYPE, ' NOT NULL AUTO_INCREMENT;');
		SET @SQL_EXP = SQL_EXP;
		PREPARE SQL_EXP_EXECUTE FROM @SQL_EXP;
		EXECUTE SQL_EXP_EXECUTE;
		DEALLOCATE PREPARE SQL_EXP_EXECUTE;
	END IF;
END;
2023-11-01 13:12:19.984 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CALL POMELO_BEFORE_DROP_PRIMARY_KEY(NULL, 'ProdutosNoCarrinho');
ALTER TABLE `ProdutosNoCarrinho` DROP PRIMARY KEY;
2023-11-01 13:12:19.989 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProdutosNoCarrinho` DROP COLUMN `Id`;
2023-11-01 13:12:20.002 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProdutosNoCarrinho` ADD CONSTRAINT `PK_ProdutosNoCarrinho` PRIMARY KEY (`CarrinhoDeComprasId`, `ProdutoId`);
2023-11-01 13:12:20.008 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_ProdutosNoCarrinho_ProdutoId` ON `ProdutosNoCarrinho` (`ProdutoId`);
2023-11-01 13:12:20.030 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProdutosNoCarrinho` ADD CONSTRAINT `FK_ProdutosNoCarrinho_CarrinhosDeCompras_CarrinhoDeComprasId` FOREIGN KEY (`CarrinhoDeComprasId`) REFERENCES `CarrinhosDeCompras` (`Id`) ON DELETE CASCADE;
2023-11-01 13:12:20.050 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProdutosNoCarrinho` ADD CONSTRAINT `FK_ProdutosNoCarrinho_Produtos_ProdutoId` FOREIGN KEY (`ProdutoId`) REFERENCES `Produtos` (`Id`) ON DELETE CASCADE;
2023-11-01 13:12:20.051 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20230922190548_CarrinhoDeComprasEProdutos', '7.0.5');
2023-11-01 13:12:20.052 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP PROCEDURE `POMELO_BEFORE_DROP_PRIMARY_KEY`;
2023-11-01 13:12:20.053 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP PROCEDURE `POMELO_AFTER_ADD_PRIMARY_KEY`;
2023-11-01 13:12:20.053 -03:00 [INF] Applying migration '20230926195150_AdicionandoColunaDeValorUnitarioEmProdutoNoCarrinho'.
2023-11-01 13:12:20.072 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProdutosNoCarrinho` ADD `ValorUnitario` double NOT NULL DEFAULT 0.0;
2023-11-01 13:12:20.073 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20230926195150_AdicionandoColunaDeValorUnitarioEmProdutoNoCarrinho', '7.0.5');
2023-11-01 13:12:20.074 -03:00 [INF] Applying migration '20230927144739_AlterandoNomeAtributoEmProdutosNoCarrinho'.
2023-11-01 13:12:20.091 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProdutosNoCarrinho` RENAME COLUMN `ValorUnitario` TO `ValorNoCarrinho`;
2023-11-01 13:12:20.092 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20230927144739_AlterandoNomeAtributoEmProdutosNoCarrinho', '7.0.5');
2023-11-01 13:12:20.092 -03:00 [INF] Applying migration '20230929153706_ValorTotal'.
2023-11-01 13:12:20.108 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CarrinhosDeCompras` DROP COLUMN `ValorTotal`;
2023-11-01 13:12:20.109 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20230929153706_ValorTotal', '7.0.5');
2023-11-01 13:12:20.109 -03:00 [INF] Applying migration '20231005200630_Deixando Colunas de Endereco Anulaveis'.
2023-11-01 13:12:20.137 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CarrinhosDeCompras` MODIFY COLUMN `UF` longtext CHARACTER SET utf8mb4 NULL;
2023-11-01 13:12:20.155 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CarrinhosDeCompras` MODIFY COLUMN `Numero` int unsigned NULL;
2023-11-01 13:12:20.172 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CarrinhosDeCompras` MODIFY COLUMN `Logradouro` longtext CHARACTER SET utf8mb4 NULL;
2023-11-01 13:12:20.188 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CarrinhosDeCompras` MODIFY COLUMN `Complemento` longtext CHARACTER SET utf8mb4 NULL;
2023-11-01 13:12:20.207 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CarrinhosDeCompras` MODIFY COLUMN `Cidade` longtext CHARACTER SET utf8mb4 NULL;
2023-11-01 13:12:20.227 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CarrinhosDeCompras` MODIFY COLUMN `CEP` longtext CHARACTER SET utf8mb4 NULL;
2023-11-01 13:12:20.248 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CarrinhosDeCompras` MODIFY COLUMN `Bairro` longtext CHARACTER SET utf8mb4 NULL;
2023-11-01 13:12:20.249 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20231005200630_Deixando Colunas de Endereco Anulaveis', '7.0.5');
2023-11-01 13:12:20.249 -03:00 [INF] Applying migration '20231008010400_CriandoTabelaCupomDeDesconto'.
2023-11-01 13:12:20.266 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `CuponsDeDesconto` (
    `Cupom` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `TipoDeDesconto` int NOT NULL,
    `ValorDoDesconto` double NOT NULL,
    `Uso` int NOT NULL,
    `Ativo` tinyint(1) NOT NULL,
    `SetorDeDesconto` char(36) COLLATE ascii_general_ci NOT NULL,
    CONSTRAINT `PK_CuponsDeDesconto` PRIMARY KEY (`Cupom`)
) CHARACTER SET=utf8mb4;
2023-11-01 13:12:20.267 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20231008010400_CriandoTabelaCupomDeDesconto', '7.0.5');
2023-11-01 13:12:20.267 -03:00 [INF] Applying migration '20231008011721_UpdateCupons'.
2023-11-01 13:12:20.293 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CuponsDeDesconto` MODIFY COLUMN `Uso` longtext CHARACTER SET utf8mb4 NOT NULL;
2023-11-01 13:12:20.311 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CuponsDeDesconto` MODIFY COLUMN `TipoDeDesconto` longtext CHARACTER SET utf8mb4 NOT NULL;
2023-11-01 13:12:20.312 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20231008011721_UpdateCupons', '7.0.5');
2023-11-01 13:12:20.313 -03:00 [INF] Applying migration '20231009144527_atualizaçãoCuponsStatus'.
2023-11-01 13:12:20.325 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CuponsDeDesconto` RENAME COLUMN `Ativo` TO `Status`;
2023-11-01 13:12:20.326 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20231009144527_atualizaçãoCuponsStatus', '7.0.5');
2023-11-01 13:12:20.326 -03:00 [INF] Applying migration '20231009150615_adicionandoCupomAoCarrinho'.
2023-11-01 13:12:20.340 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CarrinhosDeCompras` ADD `Cupom` longtext CHARACTER SET utf8mb4 NULL;
2023-11-01 13:12:20.341 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20231009150615_adicionandoCupomAoCarrinho', '7.0.5');
2023-11-01 13:12:20.342 -03:00 [INF] Applying migration '20231009152306_adicionandoCupomNoCarrinho'.
2023-11-01 13:12:20.352 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP PROCEDURE IF EXISTS `POMELO_BEFORE_DROP_PRIMARY_KEY`;
CREATE PROCEDURE `POMELO_BEFORE_DROP_PRIMARY_KEY`(IN `SCHEMA_NAME_ARGUMENT` VARCHAR(255), IN `TABLE_NAME_ARGUMENT` VARCHAR(255))
BEGIN
	DECLARE HAS_AUTO_INCREMENT_ID TINYINT(1);
	DECLARE PRIMARY_KEY_COLUMN_NAME VARCHAR(255);
	DECLARE PRIMARY_KEY_TYPE VARCHAR(255);
	DECLARE SQL_EXP VARCHAR(1000);
	SELECT COUNT(*)
		INTO HAS_AUTO_INCREMENT_ID
		FROM `information_schema`.`COLUMNS`
		WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
			AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
			AND `Extra` = 'auto_increment'
			AND `COLUMN_KEY` = 'PRI'
			LIMIT 1;
	IF HAS_AUTO_INCREMENT_ID THEN
		SELECT `COLUMN_TYPE`
			INTO PRIMARY_KEY_TYPE
			FROM `information_schema`.`COLUMNS`
			WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
				AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
				AND `COLUMN_KEY` = 'PRI'
			LIMIT 1;
		SELECT `COLUMN_NAME`
			INTO PRIMARY_KEY_COLUMN_NAME
			FROM `information_schema`.`COLUMNS`
			WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
				AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
				AND `COLUMN_KEY` = 'PRI'
			LIMIT 1;
		SET SQL_EXP = CONCAT('ALTER TABLE `', (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA())), '`.`', TABLE_NAME_ARGUMENT, '` MODIFY COLUMN `', PRIMARY_KEY_COLUMN_NAME, '` ', PRIMARY_KEY_TYPE, ' NOT NULL;');
		SET @SQL_EXP = SQL_EXP;
		PREPARE SQL_EXP_EXECUTE FROM @SQL_EXP;
		EXECUTE SQL_EXP_EXECUTE;
		DEALLOCATE PREPARE SQL_EXP_EXECUTE;
	END IF;
END;
2023-11-01 13:12:20.353 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP PROCEDURE IF EXISTS `POMELO_AFTER_ADD_PRIMARY_KEY`;
CREATE PROCEDURE `POMELO_AFTER_ADD_PRIMARY_KEY`(IN `SCHEMA_NAME_ARGUMENT` VARCHAR(255), IN `TABLE_NAME_ARGUMENT` VARCHAR(255), IN `COLUMN_NAME_ARGUMENT` VARCHAR(255))
BEGIN
	DECLARE HAS_AUTO_INCREMENT_ID INT(11);
	DECLARE PRIMARY_KEY_COLUMN_NAME VARCHAR(255);
	DECLARE PRIMARY_KEY_TYPE VARCHAR(255);
	DECLARE SQL_EXP VARCHAR(1000);
	SELECT COUNT(*)
		INTO HAS_AUTO_INCREMENT_ID
		FROM `information_schema`.`COLUMNS`
		WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
			AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
			AND `COLUMN_NAME` = COLUMN_NAME_ARGUMENT
			AND `COLUMN_TYPE` LIKE '%int%'
			AND `COLUMN_KEY` = 'PRI';
	IF HAS_AUTO_INCREMENT_ID THEN
		SELECT `COLUMN_TYPE`
			INTO PRIMARY_KEY_TYPE
			FROM `information_schema`.`COLUMNS`
			WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
				AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
				AND `COLUMN_NAME` = COLUMN_NAME_ARGUMENT
				AND `COLUMN_TYPE` LIKE '%int%'
				AND `COLUMN_KEY` = 'PRI';
		SELECT `COLUMN_NAME`
			INTO PRIMARY_KEY_COLUMN_NAME
			FROM `information_schema`.`COLUMNS`
			WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
				AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
				AND `COLUMN_NAME` = COLUMN_NAME_ARGUMENT
				AND `COLUMN_TYPE` LIKE '%int%'
				AND `COLUMN_KEY` = 'PRI';
		SET SQL_EXP = CONCAT('ALTER TABLE `', (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA())), '`.`', TABLE_NAME_ARGUMENT, '` MODIFY COLUMN `', PRIMARY_KEY_COLUMN_NAME, '` ', PRIMARY_KEY_TYPE, ' NOT NULL AUTO_INCREMENT;');
		SET @SQL_EXP = SQL_EXP;
		PREPARE SQL_EXP_EXECUTE FROM @SQL_EXP;
		EXECUTE SQL_EXP_EXECUTE;
		DEALLOCATE PREPARE SQL_EXP_EXECUTE;
	END IF;
END;
2023-11-01 13:12:20.371 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CALL POMELO_BEFORE_DROP_PRIMARY_KEY(NULL, 'CuponsDeDesconto');
ALTER TABLE `CuponsDeDesconto` DROP PRIMARY KEY;
2023-11-01 13:12:20.378 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CarrinhosDeCompras` DROP COLUMN `Cupom`;
2023-11-01 13:12:20.394 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CuponsDeDesconto` MODIFY COLUMN `Cupom` longtext CHARACTER SET utf8mb4 NOT NULL;
2023-11-01 13:12:20.402 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CuponsDeDesconto` ADD `Id` char(36) COLLATE ascii_general_ci NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2023-11-01 13:12:20.411 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CarrinhosDeCompras` ADD `CupomDeDescontoId` char(36) COLLATE ascii_general_ci NULL;
2023-11-01 13:12:20.427 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CuponsDeDesconto` ADD CONSTRAINT `PK_CuponsDeDesconto` PRIMARY KEY (`Id`);
CALL POMELO_AFTER_ADD_PRIMARY_KEY(NULL, 'CuponsDeDesconto', 'Id');
2023-11-01 13:12:20.435 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_CarrinhosDeCompras_CupomDeDescontoId` ON `CarrinhosDeCompras` (`CupomDeDescontoId`);
2023-11-01 13:12:20.453 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CarrinhosDeCompras` ADD CONSTRAINT `FK_CarrinhosDeCompras_CuponsDeDesconto_CupomDeDescontoId` FOREIGN KEY (`CupomDeDescontoId`) REFERENCES `CuponsDeDesconto` (`Id`);
2023-11-01 13:12:20.455 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20231009152306_adicionandoCupomNoCarrinho', '7.0.5');
2023-11-01 13:12:20.456 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP PROCEDURE `POMELO_BEFORE_DROP_PRIMARY_KEY`;
2023-11-01 13:12:20.457 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP PROCEDURE `POMELO_AFTER_ADD_PRIMARY_KEY`;
2023-11-01 13:39:38.721 -03:00 [INF] Inicialização da WEB API...
2023-11-01 13:39:38.900 -03:00 [INF] User profile is available. Using 'C:\Users\manoe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-01 13:39:39.026 -03:00 [INF] Now listening on: https://localhost:7296
2023-11-01 13:39:39.026 -03:00 [INF] Now listening on: http://localhost:5090
2023-11-01 13:39:39.029 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-01 13:39:39.029 -03:00 [INF] Hosting environment: Development
2023-11-01 13:39:39.029 -03:00 [INF] Content root path: C:\Users\manoe\OneDrive\Documentos\Projetos Github\E-CommerceAPI\E-Commerce(API)\
2023-11-01 13:39:39.302 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger - -
2023-11-01 13:39:39.365 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger - - - 301 0 - 66.3169ms
2023-11-01 13:39:39.369 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-11-01 13:39:39.547 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 177.5406ms
2023-11-01 13:39:39.552 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/swagger-ui.css - -
2023-11-01 13:39:39.552 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/swagger-ui-bundle.js - -
2023-11-01 13:39:39.552 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/swagger-ui-standalone-preset.js - -
2023-11-01 13:39:39.553 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-11-01 13:39:39.557 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-11-01 13:39:39.584 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12362 application/javascript;+charset=utf-8 30.8736ms
2023-11-01 13:39:39.597 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.6681ms
2023-11-01 13:39:39.603 -03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-11-01 13:39:39.603 -03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-11-01 13:39:39.603 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 50.7526ms
2023-11-01 13:39:39.603 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/swagger-ui.css - - - 200 143632 text/css 51.0701ms
2023-11-01 13:39:39.603 -03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-11-01 13:39:39.603 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 51.0317ms
2023-11-01 13:39:39.741 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-11-01 13:39:39.904 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 162.7036ms
2023-11-01 13:39:41.680 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/Categoria application/json 26
2023-11-01 13:39:42.022 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-11-01 13:39:42.023 -03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-11-01 13:39:42.024 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/Categoria application/json 26 - 403 0 - 344.4522ms
2023-11-01 13:40:06.219 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/Categoria application/json 26
2023-11-01 13:40:06.230 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API))'
2023-11-01 13:40:06.254 -03:00 [INF] Route matched with {action = "CadastrarCategoria", controller = "Categoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CadastrarCategoria(E_Commerce_API_.Data.DTOs.CategoriaDto.CreateCategoriaDto) on controller E_Commerce_API_.Controllers.CategoriaController (E-Commerce(API)).
2023-11-01 13:40:06.748 -03:00 [INF] Iniciando verificação do nome: 'Comida'.
2023-11-01 13:40:06.749 -03:00 [INF] O nome está dentro dos critérios.
2023-11-01 13:40:06.751 -03:00 [INF] Foi requisitado um cadastro de categoria pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-11-01 13:40:06.751 -03:00 [INF] Iniciada adição de uma nova categoria: 'Comida'.
2023-11-01 13:40:07.826 -03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-11-01 13:40:07.854 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-11-01 13:40:07.861 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-11-01 13:40:07.868 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-11-01 13:40:08.049 -03:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `Categorias` (`Id`, `DataEHoraCriacao`, `DataEHoraModificacao`, `Nome`, `Status`)
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-01 13:40:08.056 -03:00 [INF] Categoria com Id "44b25bfc-d71b-4cac-b309-a7928e0650d0" incluída no banco de dados.
2023-11-01 13:40:08.065 -03:00 [INF] Categoria cadastrada com sucesso.
2023-11-01 13:40:08.087 -03:00 [INF] Criado os links de acesso: [{"Href":"https://localhost:7296/Categoria/44b25bfc-d71b-4cac-b309-a7928e0650d0","Rel":"self","Method":"GET","Arguments":null,"$type":"LinkDto"},{"Href":"https://localhost:7296/Categoria/44b25bfc-d71b-4cac-b309-a7928e0650d0","Rel":"self","Method":"PUT","Arguments":["nome","status"],"$type":"LinkDto"},{"Href":"https://localhost:7296/Categoria/44b25bfc-d71b-4cac-b309-a7928e0650d0","Rel":"self","Method":"DELETE","Arguments":null,"$type":"LinkDto"}].
2023-11-01 13:40:08.093 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commerce_API_.Data.DTOs.Error.ResponseDto`1[[E_Commerce_API_.Data.DTOs.CategoriaDto.ReadCategoriaDto, E-Commerce(API), Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-01 13:40:08.145 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API)) in 1883.218ms
2023-11-01 13:40:08.145 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API))'
2023-11-01 13:40:08.150 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/Categoria application/json 26 - 201 530 application/json;+charset=utf-8 1931.4083ms
2023-11-01 13:40:55.038 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/Subcategoria application/json 87
2023-11-01 13:40:55.039 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-11-01 13:40:55.042 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-01 13:40:55.042 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/Subcategoria application/json 87 - 401 0 - 4.7360ms
2023-11-01 13:41:02.175 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/Subcategoria application/json 87
2023-11-01 13:41:02.176 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.SubcategoriaController.CadastrarSubcategoria (E-Commerce(API))'
2023-11-01 13:41:02.179 -03:00 [INF] Route matched with {action = "CadastrarSubcategoria", controller = "Subcategoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CadastrarSubcategoria(E_Commerce_API_.Data.DTOs.SubcategoriaDto.CreateSubcategoriaDto) on controller E_Commerce_API_.Controllers.SubcategoriaController (E-Commerce(API)).
2023-11-01 13:41:02.190 -03:00 [INF] Iniciando verificação do nome: 'Bolacha'.
2023-11-01 13:41:02.190 -03:00 [INF] O nome está dentro dos critérios.
2023-11-01 13:41:02.192 -03:00 [INF] Foi requisitado um cadastro de subcategoria pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-11-01 13:41:02.192 -03:00 [INF] Iniciada adição de uma nova subcategoria.
2023-11-01 13:41:02.196 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-11-01 13:41:02.208 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-11-01 13:41:02.209 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-11-01 13:41:02.210 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-11-01 13:41:02.211 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-11-01 13:41:02.256 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `Subcategorias` (`Id`, `CategoriaId`, `DataEHoraCriacao`, `DataEHoraModificacao`, `Nome`, `Status`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-11-01 13:41:02.257 -03:00 [INF] Subcategoria com Id '"d7d6a282-975c-4ed7-a379-5d90a1686e2e"' incluída no banco de dados.
2023-11-01 13:41:02.259 -03:00 [INF] Subcategoria cadastrada com sucesso.
2023-11-01 13:41:02.259 -03:00 [INF] Criado os links de acesso: [{"Href":"https://localhost:7296/Subcategoria/d7d6a282-975c-4ed7-a379-5d90a1686e2e","Rel":"self","Method":"GET","Arguments":null,"$type":"LinkDto"},{"Href":"https://localhost:7296/Subcategoria/d7d6a282-975c-4ed7-a379-5d90a1686e2e","Rel":"self","Method":"PUT","Arguments":["nome","status"],"$type":"LinkDto"},{"Href":"https://localhost:7296/Subcategoria/d7d6a282-975c-4ed7-a379-5d90a1686e2e","Rel":"self","Method":"DELETE","Arguments":null,"$type":"LinkDto"}].
2023-11-01 13:41:02.259 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commerce_API_.Data.DTOs.Error.ResponseDto`1[[E_Commerce_API_.Data.DTOs.SubcategoriaDto.ReadSubcategoriaDto, E-Commerce(API), Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-01 13:41:02.262 -03:00 [INF] Executed action E_Commerce_API_.Controllers.SubcategoriaController.CadastrarSubcategoria (E-Commerce(API)) in 82.5358ms
2023-11-01 13:41:02.262 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.SubcategoriaController.CadastrarSubcategoria (E-Commerce(API))'
2023-11-01 13:41:02.262 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/Subcategoria application/json 87 - 201 559 application/json;+charset=utf-8 87.4256ms
2023-11-01 13:42:43.150 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 108
2023-11-01 13:42:43.151 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-11-01 13:42:43.151 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-01 13:42:43.152 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 108 - 401 0 - 1.2025ms
2023-11-01 13:42:50.579 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 108
2023-11-01 13:42:50.579 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API))'
2023-11-01 13:42:50.582 -03:00 [INF] Route matched with {action = "CadastrarCD", controller = "CentroDeDistribuicao"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CadastrarCD(E_Commerce_API_.Data.DTOs.CentroDeDistribuicaoDto.CreateCentroDeDistribuicaoDto) on controller E_Commerce_API_.Controllers.CentroDeDistribuicaoController (E-Commerce(API)).
2023-11-01 13:42:50.594 -03:00 [INF] Foi requisitado um cadastro de centro de distribuição pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-11-01 13:42:50.595 -03:00 [INF] Iniciada adição de um novo centro de distribuição.
2023-11-01 13:42:50.642 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-11-01 13:42:50.643 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-11-01 13:42:50.647 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-11-01 13:42:50.648 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-11-01 13:42:50.649 -03:00 [INF] Iniciada pesquisa do CEP '08598372'.
2023-11-01 13:42:51.281 -03:00 [INF] Pesquisa do CEP finalizada. Resposta: {
  "cep": "08598-372",
  "logradouro": "Rua Cambuci",
  "complemento": "",
  "bairro": "Jardim Odete",
  "localidade": "Itaquaquecetuba",
  "uf": "SP",
  "ibge": "3523107",
  "gia": "3797",
  "ddd": "11",
  "siafi": "6563"
}
2023-11-01 13:42:51.308 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-11-01 13:42:51.356 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 128), @p2='?' (Size = 8), @p3='?' (Size = 128), @p4='?' (Size = 128), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 128), @p8='?' (Size = 128), @p9='?' (DbType = UInt32), @p10='?' (DbType = Boolean), @p11='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `CentrosDeDistribuicao` (`Id`, `Bairro`, `CEP`, `Cidade`, `Complemento`, `DataEHoraCriacao`, `DataEHoraModificacao`, `Logradouro`, `Nome`, `Numero`, `Status`, `UF`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2023-11-01 13:42:51.357 -03:00 [INF] Centro de distribuição com Id '"505548e0-5bab-46a4-8229-bc715e324d91"' incluído no banco de dados.
2023-11-01 13:42:51.357 -03:00 [INF] Centro de distribuição cadastrado com sucesso.
2023-11-01 13:42:51.365 -03:00 [INF] Criado os links de acesso: [{"Href":"https://localhost:7296/CentroDeDistribuicao/505548e0-5bab-46a4-8229-bc715e324d91","Rel":"self","Method":"GET","Arguments":null,"$type":"LinkDto"},{"Href":"https://localhost:7296/CentroDeDistribuicao/505548e0-5bab-46a4-8229-bc715e324d91","Rel":"self","Method":"PUT","Arguments":["nome","cep","numero","complemento","status"],"$type":"LinkDto"},{"Href":"https://localhost:7296/CentroDeDistribuicao/505548e0-5bab-46a4-8229-bc715e324d91","Rel":"self","Method":"DELETE","Arguments":null,"$type":"LinkDto"}].
2023-11-01 13:42:51.367 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commerce_API_.Data.DTOs.Error.ResponseDto`1[[E_Commerce_API_.Data.DTOs.CentroDeDistribuicaoDto.ReadCentroDeDistribuicaoDto, E-Commerce(API), Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-01 13:42:51.373 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API)) in 791.0523ms
2023-11-01 13:42:51.374 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API))'
2023-11-01 13:42:51.375 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 108 - 201 744 application/json;+charset=utf-8 796.3126ms
2023-11-01 13:43:02.921 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/Produto application/json 328
2023-11-01 13:43:02.922 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-11-01 13:43:02.922 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-01 13:43:02.922 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/Produto application/json 328 - 401 0 - 0.6477ms
2023-11-01 13:43:07.933 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/Produto application/json 328
2023-11-01 13:43:07.934 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.ProdutoController.CadastrarProduto (E-Commerce(API))'
2023-11-01 13:43:07.935 -03:00 [INF] Route matched with {action = "CadastrarProduto", controller = "Produto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CadastrarProduto(E_Commerce_API_.Data.DTOs.ProdutoDto.CreateProdutoDto) on controller E_Commerce_API_.Controllers.ProdutoController (E-Commerce(API)).
2023-11-01 13:43:07.953 -03:00 [INF] Foi requisitado um cadastro de produto pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-11-01 13:43:07.953 -03:00 [INF] Iniciada adição de um novo produto.
2023-11-01 13:43:07.955 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-11-01 13:43:07.956 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-11-01 13:43:07.960 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-11-01 13:43:07.960 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-11-01 13:43:07.961 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-11-01 13:43:08.002 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Double), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 512), @p7='?' (DbType = Double), @p8='?' (Size = 128), @p9='?' (DbType = Double), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Guid), @p13='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `Produtos` (`Id`, `Altura`, `CentroDeDistribuicaoId`, `Comprimento`, `DataEHoraCriacao`, `DataEHoraModificacao`, `Descricao`, `Largura`, `Nome`, `Peso`, `QuantidadeEmEstoque`, `Status`, `SubcategoriaId`, `Valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2023-11-01 13:43:08.002 -03:00 [INF] Produto com Id '"71ad16a6-7f43-4467-bd14-d72bb0c74cb7"' incluído no banco de dados.
2023-11-01 13:43:08.002 -03:00 [INF] Produto cadastrado com sucesso.
2023-11-01 13:43:08.007 -03:00 [INF] Criado os links de acesso: [{"Href":"https://localhost:7296/Produto/71ad16a6-7f43-4467-bd14-d72bb0c74cb7","Rel":"self","Method":"GET","Arguments":null,"$type":"LinkDto"},{"Href":"https://localhost:7296/Produto/71ad16a6-7f43-4467-bd14-d72bb0c74cb7","Rel":"self","Method":"PUT","Arguments":["nome","descricao","peso","altura","largura","comprimento","valor","quantidadeEmEstoque","status","subcategoriaId","centroDeDistribuicaoId"],"$type":"LinkDto"},{"Href":"https://localhost:7296/Produto/71ad16a6-7f43-4467-bd14-d72bb0c74cb7","Rel":"self","Method":"DELETE","Arguments":null,"$type":"LinkDto"}].
2023-11-01 13:43:08.007 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commerce_API_.Data.DTOs.Error.ResponseDto`1[[E_Commerce_API_.Data.DTOs.ProdutoDto.ReadProdutoDto, E-Commerce(API), Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-01 13:43:08.010 -03:00 [INF] Executed action E_Commerce_API_.Controllers.ProdutoController.CadastrarProduto (E-Commerce(API)) in 75.4977ms
2023-11-01 13:43:08.010 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.ProdutoController.CadastrarProduto (E-Commerce(API))'
2023-11-01 13:43:08.010 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/Produto application/json 328 - 201 873 application/json;+charset=utf-8 77.4800ms
2023-11-01 13:44:01.068 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras application/json 84
2023-11-01 13:44:01.069 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.CriarCarrinho (E-Commerce(API))'
2023-11-01 13:44:01.071 -03:00 [INF] Route matched with {action = "CriarCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarCarrinho(E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.CreateCarrinhoDeComprasDto) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-11-01 13:44:01.076 -03:00 [INF] Iniciada pesquisa do produto "71ad16a6-7f43-4467-bd14-d72bb0c74cb7".
2023-11-01 13:44:01.078 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-11-01 13:44:01.173 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-11-01 13:44:01.183 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-11-01 13:44:01.191 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-11-01 13:44:01.268 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Guid), @p6='?' (Size = 4000), @p7='?' (DbType = UInt32), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = UInt32), @p12='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `CarrinhosDeCompras` (`Id`, `Bairro`, `CEP`, `Cidade`, `Complemento`, `CupomDeDescontoId`, `Logradouro`, `Numero`, `UF`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
INSERT INTO `ProdutosNoCarrinho` (`CarrinhoDeComprasId`, `ProdutoId`, `Quantidade`, `ValorNoCarrinho`)
VALUES (@p9, @p10, @p11, @p12);
2023-11-01 13:44:01.346 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-11-01 13:44:01.356 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-11-01 13:44:01.361 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.CriarCarrinho (E-Commerce(API)) in 289.6446ms
2023-11-01 13:44:01.361 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.CriarCarrinho (E-Commerce(API))'
2023-11-01 13:44:01.361 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras application/json 84 - 201 191 application/json;+charset=utf-8 292.8841ms
