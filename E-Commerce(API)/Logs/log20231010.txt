2023-10-10 14:37:40.524 -03:00 [INF] Inicialização da WEB API...
2023-10-10 14:37:40.789 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-10 14:37:41.014 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-10 14:37:41.014 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-10 14:37:41.018 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-10 14:37:41.018 -03:00 [INF] Hosting environment: Development
2023-10-10 14:37:41.018 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-10 14:37:41.726 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-10 14:37:42.134 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 412.4745ms
2023-10-10 14:37:42.146 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 14:37:42.146 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-10 14:37:42.151 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 4.5660ms
2023-10-10 14:37:42.183 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.8595ms
2023-10-10 14:37:42.404 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-10 14:37:42.630 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 225.6977ms
2023-10-10 15:19:56.834 -03:00 [INF] Inicialização da WEB API...
2023-10-10 15:19:56.996 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-10 15:19:57.123 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-10 15:19:57.124 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-10 15:19:57.128 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-10 15:19:57.128 -03:00 [INF] Hosting environment: Development
2023-10-10 15:19:57.128 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-10 15:19:57.733 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-10 15:19:58.126 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 400.7582ms
2023-10-10 15:19:58.134 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 15:19:58.139 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 7.1476ms
2023-10-10 15:19:58.144 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-10 15:19:58.195 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.7353ms
2023-10-10 15:19:58.420 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-10 15:19:58.649 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 229.2543ms
2023-10-10 15:21:04.687 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7296/Categoria application/json-patch+json 31
2023-10-10 15:21:04.913 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API))'
2023-10-10 15:21:04.938 -03:00 [INF] Route matched with {action = "CadastrarCategoria", controller = "Categoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CadastrarCategoria(E_Commerce_API_.Data.DTOs.CategoriaDto.CreateCategoriaDto) on controller E_Commerce_API_.Controllers.CategoriaController (E-Commerce(API)).
2023-10-10 15:21:05.634 -03:00 [INF] Iniciando verificação do nome: 'Categoria Teste'.
2023-10-10 15:21:05.636 -03:00 [INF] O nome está dentro dos critérios.
2023-10-10 15:21:05.638 -03:00 [INF] Foi requisitado um cadastro de categoria pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-10-10 15:21:05.638 -03:00 [INF] Iniciada adição de uma nova categoria: 'Categoria Teste'.
2023-10-10 15:21:06.789 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-10-10 15:21:06.890 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-10-10 15:21:06.926 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-10-10 15:21:06.969 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-10-10 15:21:07.164 -03:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `Categorias` (`Id`, `DataEHoraCriacao`, `DataEHoraModificacao`, `Nome`, `Status`)
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-10-10 15:21:07.171 -03:00 [INF] Categoria com Id "0e5daac1-cd68-4c2d-9f28-fde4eff87fb9" incluída no banco de dados.
2023-10-10 15:21:07.176 -03:00 [INF] Categoria cadastrada com sucesso.
2023-10-10 15:21:07.203 -03:00 [INF] Criado os links de acesso: [{"Href":"https://localhost:7296/Categoria/0e5daac1-cd68-4c2d-9f28-fde4eff87fb9","Rel":"self","Method":"GET","Arguments":null,"$type":"LinkDto"},{"Href":"https://localhost:7296/Categoria/0e5daac1-cd68-4c2d-9f28-fde4eff87fb9","Rel":"self","Method":"PUT","Arguments":["nome","status"],"$type":"LinkDto"},{"Href":"https://localhost:7296/Categoria/0e5daac1-cd68-4c2d-9f28-fde4eff87fb9","Rel":"self","Method":"DELETE","Arguments":null,"$type":"LinkDto"}].
2023-10-10 15:21:07.213 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commerce_API_.Data.DTOs.Error.ResponseDto`1[[E_Commerce_API_.Data.DTOs.CategoriaDto.ReadCategoriaDto, E-Commerce(API), Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-10 15:21:07.263 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API)) in 2319.1472ms
2023-10-10 15:21:07.263 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API))'
2023-10-10 15:21:07.270 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7296/Categoria application/json-patch+json 31 - 201 539 application/json;+charset=utf-8 2582.8147ms
2023-10-10 15:23:05.297 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/GeradorDeCupom - -
2023-10-10 15:23:05.298 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.GeradorDeCupomController.ListarCupons (E-Commerce(API))'
2023-10-10 15:23:05.299 -03:00 [INF] Route matched with {action = "ListarCupons", controller = "GeradorDeCupom"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ListarCupons() on controller E_Commerce_API_.Controllers.GeradorDeCupomController (E-Commerce(API)).
2023-10-10 15:23:05.311 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
2023-10-10 15:23:05.343 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce_API_.Data.DTOs.GeradorDeCupomDto.ReadCupomDeDescontoDto, E-Commerce(API), Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-10 15:23:05.346 -03:00 [INF] Executed action E_Commerce_API_.Controllers.GeradorDeCupomController.ListarCupons (E-Commerce(API)) in 47.3983ms
2023-10-10 15:23:05.347 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.GeradorDeCupomController.ListarCupons (E-Commerce(API))'
2023-10-10 15:23:05.347 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/GeradorDeCupom - - - 200 610 application/json;+charset=utf-8 49.9991ms
2023-10-10 15:24:12.553 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b - -
2023-10-10 15:24:12.555 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-10 15:24:12.562 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-10 15:24:12.680 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-10 15:24:12.726 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-10 15:24:12.794 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-10 15:24:12.803 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-10 15:24:12.804 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-10 15:24:12.819 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-10 15:24:12.828 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-10 15:24:12.835 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-10 15:24:12.843 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-10 15:24:12.845 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-10 15:24:12.849 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 287.1251ms
2023-10-10 15:24:12.850 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-10 15:24:12.850 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b - - - 200 496 application/json;+charset=utf-8 296.5265ms
2023-10-10 15:25:38.376 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/512ac3da-a4e7-43aa-a641-fabb135bc9c1 - -
2023-10-10 15:25:38.377 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-10 15:25:38.378 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-10 15:25:38.383 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-10 15:25:38.385 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-10 15:25:38.389 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-10 15:25:38.390 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-10 15:25:38.391 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-10 15:25:38.393 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-10 15:25:38.397 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 18.8066ms
2023-10-10 15:25:38.397 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-10 15:25:38.397 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/512ac3da-a4e7-43aa-a641-fabb135bc9c1 - - - 200 426 application/json;+charset=utf-8 21.1556ms
2023-10-10 15:30:07.285 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/512ac3da-a4e7-43aa-a641-fabb135bc9c1/cupom/50off - 0
2023-10-10 15:30:07.286 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-10 15:30:07.288 -03:00 [INF] Route matched with {action = "InserirCupomDeDesconto", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InserirCupomDeDesconto(System.Guid, System.String) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-10 15:30:07.317 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-10 15:30:07.322 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cupom_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Cupom` = @__cupom_0
LIMIT 1
2023-10-10 15:30:07.328 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
2023-10-10 15:30:07.331 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API)) in 42.672ms
2023-10-10 15:30:07.332 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-10 15:30:07.333 -03:00 [ERR] Erro: {"TraceId":"e83f5325-47a0-484f-996f-629dd470647e","Error":{"Logref":"BadRequest","Message":"Cupom já utilizado.","$type":"ErrorDetailsDto"},"Data":"10/10/2023","$type":"ErrorResponseDto"}
2023-10-10 15:30:07.336 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/512ac3da-a4e7-43aa-a641-fabb135bc9c1/cupom/50off - 0 - 400 - application/json 50.2273ms
2023-10-10 15:30:42.138 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/512ac3da-a4e7-43aa-a641-fabb135bc9c1/cupom/50REAISOFF - 0
2023-10-10 15:30:42.139 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-10 15:30:42.139 -03:00 [INF] Route matched with {action = "InserirCupomDeDesconto", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InserirCupomDeDesconto(System.Guid, System.String) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-10 15:30:42.141 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-10 15:30:42.146 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cupom_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Cupom` = @__cupom_0
LIMIT 1
2023-10-10 15:30:42.169 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (Size = 4000), @p6='?' (DbType = UInt32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `CupomDeDescontoId` = @p4, `Logradouro` = @p5, `Numero` = @p6, `UF` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-10-10 15:30:42.172 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-10 15:30:42.173 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-10 15:30:42.174 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-10 15:30:42.178 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-10 15:30:42.181 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-10 15:30:42.182 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-10 15:30:42.182 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API)) in 42.9307ms
2023-10-10 15:30:42.182 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-10 15:30:42.182 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/512ac3da-a4e7-43aa-a641-fabb135bc9c1/cupom/50REAISOFF - 0 - 200 431 application/json;+charset=utf-8 44.1436ms
2023-10-10 16:13:26.429 -03:00 [INF] Inicialização da WEB API...
2023-10-10 16:13:26.565 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-10 16:13:26.669 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-10 16:13:26.669 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-10 16:13:26.672 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-10 16:13:26.672 -03:00 [INF] Hosting environment: Development
2023-10-10 16:13:26.672 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-10 16:13:26.950 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-10 16:13:27.191 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 244.9222ms
2023-10-10 16:13:27.192 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 16:13:27.192 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-10 16:13:27.194 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 2.2754ms
2023-10-10 16:13:27.205 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 12.6158ms
2023-10-10 16:13:27.633 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-10 16:13:27.739 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 106.4086ms
2023-10-10 16:23:43.092 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/512ac3da-a4e7-43aa-a641-fabb135bc9c1 - -
2023-10-10 16:23:43.148 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-10 16:23:43.174 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-10 16:23:45.834 -03:00 [INF] Executed DbCommand (64ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-10 16:23:45.992 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-10 16:23:46.165 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-10 16:23:46.243 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-10 16:23:46.254 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-10 16:23:46.298 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-10 16:23:46.344 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-10 16:23:46.363 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-10 16:23:46.504 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 3323.6657ms
2023-10-10 16:23:46.504 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-10 16:23:46.510 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/512ac3da-a4e7-43aa-a641-fabb135bc9c1 - - - 200 431 application/json;+charset=utf-8 3418.6143ms
2023-10-10 16:25:39.895 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b - -
2023-10-10 16:25:39.897 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-10 16:25:39.898 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-10 16:25:39.911 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-10 16:25:39.913 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-10 16:25:39.917 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-10 16:25:39.920 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-10 16:25:39.923 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-10 16:25:39.928 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-10 16:25:39.931 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-10 16:25:39.933 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-10 16:25:39.936 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-10 16:25:39.937 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-10 16:25:39.938 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 39.9828ms
2023-10-10 16:25:39.938 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-10 16:25:39.938 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b - - - 200 496 application/json;+charset=utf-8 43.0172ms
2023-10-10 16:26:08.301 -03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7296/CarrinhoDeCompras/8717a265-673e-4c1e-bbd7-7ba703ab2c7c/produto/45f99c7f-8840-41c9-9980-3427d3a8492f - -
2023-10-10 16:26:08.303 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.RemoverProdutoDoCarrinho (E-Commerce(API))'
2023-10-10 16:26:08.305 -03:00 [INF] Route matched with {action = "RemoverProdutoDoCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult RemoverProdutoDoCarrinho(System.Guid, System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-10 16:26:08.372 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-10 16:26:08.374 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.RemoverProdutoDoCarrinho (E-Commerce(API)) in 68.3257ms
2023-10-10 16:26:08.375 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.RemoverProdutoDoCarrinho (E-Commerce(API))'
2023-10-10 16:26:08.383 -03:00 [ERR] Erro: {"TraceId":"8139e07f-6eed-4c3e-afca-961bdb9acefb","Error":{"Logref":"BadRequest","Message":"O produto não está cadastrado no carrinho.","$type":"ErrorDetailsDto"},"Data":"10/10/2023","$type":"ErrorResponseDto"}
2023-10-10 16:26:08.393 -03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7296/CarrinhoDeCompras/8717a265-673e-4c1e-bbd7-7ba703ab2c7c/produto/45f99c7f-8840-41c9-9980-3427d3a8492f - - - 400 - application/json 92.5411ms
2023-10-10 16:26:15.907 -03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b/produto/45f99c7f-8840-41c9-9980-3427d3a8492f - -
2023-10-10 16:26:15.909 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.RemoverProdutoDoCarrinho (E-Commerce(API))'
2023-10-10 16:26:15.910 -03:00 [INF] Route matched with {action = "RemoverProdutoDoCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult RemoverProdutoDoCarrinho(System.Guid, System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-10 16:26:15.915 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-10 16:26:16.061 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `ProdutosNoCarrinho`
WHERE `CarrinhoDeComprasId` = @p0 AND `ProdutoId` = @p1;
SELECT ROW_COUNT();
2023-10-10 16:26:16.081 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-10 16:26:16.083 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-10 16:26:16.086 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-10 16:26:16.089 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-10 16:26:16.092 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-10 16:26:16.096 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-10 16:26:16.099 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-10 16:26:16.101 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-10 16:26:16.102 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-10 16:26:16.102 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.RemoverProdutoDoCarrinho (E-Commerce(API)) in 192.2087ms
2023-10-10 16:26:16.102 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.RemoverProdutoDoCarrinho (E-Commerce(API))'
2023-10-10 16:26:16.102 -03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b/produto/45f99c7f-8840-41c9-9980-3427d3a8492f - - - 200 388 application/json;+charset=utf-8 195.8793ms
2023-10-10 16:26:42.948 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b application/json 92
2023-10-10 16:26:42.949 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.AdicionarProdutosAoCarrinho (E-Commerce(API))'
2023-10-10 16:26:42.950 -03:00 [INF] Route matched with {action = "AdicionarProdutosAoCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdicionarProdutosAoCarrinho(System.Guid, E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.AddProdutosAoCarrinhoDto) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-10 16:26:43.017 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-10 16:26:43.020 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-10 16:26:43.021 -03:00 [INF] Iniciada pesquisa do produto "45f99c7f-8840-41c9-9980-3427d3a8492f".
2023-10-10 16:26:43.030 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-10-10 16:26:43.056 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-10 16:26:43.087 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-10 16:26:43.091 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-10 16:26:43.147 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = UInt32), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `ProdutosNoCarrinho` (`CarrinhoDeComprasId`, `ProdutoId`, `Quantidade`, `ValorNoCarrinho`)
VALUES (@p0, @p1, @p2, @p3);
2023-10-10 16:26:43.149 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-10 16:26:43.152 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-10 16:26:43.154 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-10 16:26:43.156 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-10 16:26:43.156 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-10 16:26:43.159 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.AdicionarProdutosAoCarrinho (E-Commerce(API)) in 208.1126ms
2023-10-10 16:26:43.159 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.AdicionarProdutosAoCarrinho (E-Commerce(API))'
2023-10-10 16:26:43.159 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b application/json 92 - 200 497 application/json;+charset=utf-8 210.6766ms
