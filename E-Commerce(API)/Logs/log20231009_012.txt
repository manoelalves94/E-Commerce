2023-10-09 12:29:08.460 -03:00 [INF] Inicialização da WEB API...
2023-10-09 12:29:10.052 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='e-commerce(api)' AND TABLE_NAME='__EFMigrationsHistory';
2023-10-09 12:29:10.069 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='e-commerce(api)' AND TABLE_NAME='__EFMigrationsHistory';
2023-10-09 12:29:10.087 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2023-10-09 12:29:10.102 -03:00 [INF] Applying migration '20231009152306_adicionandoCupomNoCarrinho'.
2023-10-09 12:29:10.167 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP PROCEDURE IF EXISTS `POMELO_BEFORE_DROP_PRIMARY_KEY`;
CREATE PROCEDURE `POMELO_BEFORE_DROP_PRIMARY_KEY`(IN `SCHEMA_NAME_ARGUMENT` VARCHAR(255), IN `TABLE_NAME_ARGUMENT` VARCHAR(255))
BEGIN
	DECLARE HAS_AUTO_INCREMENT_ID TINYINT(1);
	DECLARE PRIMARY_KEY_COLUMN_NAME VARCHAR(255);
	DECLARE PRIMARY_KEY_TYPE VARCHAR(255);
	DECLARE SQL_EXP VARCHAR(1000);
	SELECT COUNT(*)
		INTO HAS_AUTO_INCREMENT_ID
		FROM `information_schema`.`COLUMNS`
		WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
			AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
			AND `Extra` = 'auto_increment'
			AND `COLUMN_KEY` = 'PRI'
			LIMIT 1;
	IF HAS_AUTO_INCREMENT_ID THEN
		SELECT `COLUMN_TYPE`
			INTO PRIMARY_KEY_TYPE
			FROM `information_schema`.`COLUMNS`
			WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
				AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
				AND `COLUMN_KEY` = 'PRI'
			LIMIT 1;
		SELECT `COLUMN_NAME`
			INTO PRIMARY_KEY_COLUMN_NAME
			FROM `information_schema`.`COLUMNS`
			WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
				AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
				AND `COLUMN_KEY` = 'PRI'
			LIMIT 1;
		SET SQL_EXP = CONCAT('ALTER TABLE `', (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA())), '`.`', TABLE_NAME_ARGUMENT, '` MODIFY COLUMN `', PRIMARY_KEY_COLUMN_NAME, '` ', PRIMARY_KEY_TYPE, ' NOT NULL;');
		SET @SQL_EXP = SQL_EXP;
		PREPARE SQL_EXP_EXECUTE FROM @SQL_EXP;
		EXECUTE SQL_EXP_EXECUTE;
		DEALLOCATE PREPARE SQL_EXP_EXECUTE;
	END IF;
END;
2023-10-09 12:29:10.176 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP PROCEDURE IF EXISTS `POMELO_AFTER_ADD_PRIMARY_KEY`;
CREATE PROCEDURE `POMELO_AFTER_ADD_PRIMARY_KEY`(IN `SCHEMA_NAME_ARGUMENT` VARCHAR(255), IN `TABLE_NAME_ARGUMENT` VARCHAR(255), IN `COLUMN_NAME_ARGUMENT` VARCHAR(255))
BEGIN
	DECLARE HAS_AUTO_INCREMENT_ID INT(11);
	DECLARE PRIMARY_KEY_COLUMN_NAME VARCHAR(255);
	DECLARE PRIMARY_KEY_TYPE VARCHAR(255);
	DECLARE SQL_EXP VARCHAR(1000);
	SELECT COUNT(*)
		INTO HAS_AUTO_INCREMENT_ID
		FROM `information_schema`.`COLUMNS`
		WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
			AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
			AND `COLUMN_NAME` = COLUMN_NAME_ARGUMENT
			AND `COLUMN_TYPE` LIKE '%int%'
			AND `COLUMN_KEY` = 'PRI';
	IF HAS_AUTO_INCREMENT_ID THEN
		SELECT `COLUMN_TYPE`
			INTO PRIMARY_KEY_TYPE
			FROM `information_schema`.`COLUMNS`
			WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
				AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
				AND `COLUMN_NAME` = COLUMN_NAME_ARGUMENT
				AND `COLUMN_TYPE` LIKE '%int%'
				AND `COLUMN_KEY` = 'PRI';
		SELECT `COLUMN_NAME`
			INTO PRIMARY_KEY_COLUMN_NAME
			FROM `information_schema`.`COLUMNS`
			WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
				AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
				AND `COLUMN_NAME` = COLUMN_NAME_ARGUMENT
				AND `COLUMN_TYPE` LIKE '%int%'
				AND `COLUMN_KEY` = 'PRI';
		SET SQL_EXP = CONCAT('ALTER TABLE `', (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA())), '`.`', TABLE_NAME_ARGUMENT, '` MODIFY COLUMN `', PRIMARY_KEY_COLUMN_NAME, '` ', PRIMARY_KEY_TYPE, ' NOT NULL AUTO_INCREMENT;');
		SET @SQL_EXP = SQL_EXP;
		PREPARE SQL_EXP_EXECUTE FROM @SQL_EXP;
		EXECUTE SQL_EXP_EXECUTE;
		DEALLOCATE PREPARE SQL_EXP_EXECUTE;
	END IF;
END;
2023-10-09 12:29:10.218 -03:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CALL POMELO_BEFORE_DROP_PRIMARY_KEY(NULL, 'CuponsDeDesconto');
ALTER TABLE `CuponsDeDesconto` DROP PRIMARY KEY;
2023-10-09 12:29:10.239 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CarrinhosDeCompras` DROP COLUMN `Cupom`;
2023-10-09 12:29:10.284 -03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CuponsDeDesconto` MODIFY COLUMN `Cupom` longtext CHARACTER SET utf8mb4 NOT NULL;
2023-10-09 12:29:10.307 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CuponsDeDesconto` ADD `Id` char(36) COLLATE ascii_general_ci NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2023-10-09 12:29:10.322 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CarrinhosDeCompras` ADD `CupomDeDescontoId` char(36) COLLATE ascii_general_ci NULL;
2023-10-09 12:29:10.343 -03:00 [ERR] Failed executing DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CuponsDeDesconto` ADD CONSTRAINT `PK_CuponsDeDesconto` PRIMARY KEY (`Id`);
CALL POMELO_AFTER_ADD_PRIMARY_KEY(NULL, 'CuponsDeDesconto', 'Id');
2023-10-09 12:43:17.316 -03:00 [INF] Inicialização da WEB API...
2023-10-09 12:43:17.499 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 12:43:17.659 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 12:43:17.659 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 12:43:17.662 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 12:43:17.662 -03:00 [INF] Hosting environment: Development
2023-10-09 12:43:17.662 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 12:43:18.001 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 12:43:18.255 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 256.4247ms
2023-10-09 12:43:18.260 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 12:43:18.260 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 12:43:18.262 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 2.3218ms
2023-10-09 12:43:18.272 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 12.3258ms
2023-10-09 12:43:18.580 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 12:43:18.708 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 128.4256ms
2023-10-09 13:03:10.501 -03:00 [INF] Inicialização da WEB API...
2023-10-09 13:03:10.642 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 13:03:10.757 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 13:03:10.757 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 13:03:10.760 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 13:03:10.760 -03:00 [INF] Hosting environment: Development
2023-10-09 13:03:10.760 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 13:03:11.044 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 13:03:11.266 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 223.7773ms
2023-10-09 13:03:11.270 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 13:03:11.270 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 13:03:11.273 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 2.1816ms
2023-10-09 13:03:11.280 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 9.7045ms
2023-10-09 13:03:11.716 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 13:03:11.873 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 157.0783ms
2023-10-09 13:03:17.313 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b - -
2023-10-09 13:03:17.424 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 13:03:17.460 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 13:03:20.027 -03:00 [INF] Executed DbCommand (99ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 13:03:20.249 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 13:03:20.432 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:03:20.491 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:03:20.527 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 13:03:20.544 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 13:03:20.705 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 3235.9009ms
2023-10-09 13:03:20.706 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 13:03:20.711 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b - - - 200 592 application/json;+charset=utf-8 3398.0133ms
2023-10-09 13:04:19.371 -03:00 [INF] Inicialização da WEB API...
2023-10-09 13:04:19.501 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 13:04:19.622 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 13:04:19.622 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 13:04:19.629 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 13:04:19.629 -03:00 [INF] Hosting environment: Development
2023-10-09 13:04:19.629 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 13:04:19.910 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 13:04:20.244 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 338.6688ms
2023-10-09 13:04:20.244 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 13:04:20.244 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 13:04:20.246 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 2.1924ms
2023-10-09 13:04:20.253 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 8.9167ms
2023-10-09 13:04:20.572 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 13:04:20.757 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 184.1348ms
2023-10-09 13:04:21.909 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b - -
2023-10-09 13:04:21.945 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 13:04:21.974 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 13:04:23.634 -03:00 [INF] Executed DbCommand (47ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 13:04:23.764 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 13:04:23.874 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:04:23.917 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:04:23.963 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 13:04:23.969 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 13:04:24.081 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 2100.3482ms
2023-10-09 13:04:24.081 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 13:04:24.087 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b - - - 200 575 application/json;+charset=utf-8 2178.0104ms
2023-10-09 13:06:54.186 -03:00 [INF] Inicialização da WEB API...
2023-10-09 13:06:54.348 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 13:06:54.470 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 13:06:54.470 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 13:06:54.473 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 13:06:54.473 -03:00 [INF] Hosting environment: Development
2023-10-09 13:06:54.473 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 13:06:54.743 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 13:06:54.961 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 220.2489ms
2023-10-09 13:06:54.967 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 13:06:54.967 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 13:06:54.969 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 1.9418ms
2023-10-09 13:06:54.986 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.2746ms
2023-10-09 13:06:55.273 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 13:06:55.429 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 155.3513ms
2023-10-09 13:06:57.541 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b - -
2023-10-09 13:06:57.574 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 13:06:57.599 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 13:06:59.173 -03:00 [INF] Executed DbCommand (56ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 13:06:59.289 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 13:06:59.411 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:06:59.458 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:06:59.485 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 13:06:59.491 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 13:06:59.585 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 1980.0767ms
2023-10-09 13:06:59.585 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 13:06:59.591 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b - - - 200 489 application/json;+charset=utf-8 2050.4641ms
2023-10-09 13:07:32.788 -03:00 [INF] Inicialização da WEB API...
2023-10-09 13:07:32.940 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 13:07:33.045 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 13:07:33.045 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 13:07:33.047 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 13:07:33.047 -03:00 [INF] Hosting environment: Development
2023-10-09 13:07:33.047 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 13:07:33.390 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 13:07:33.657 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 268.7483ms
2023-10-09 13:07:33.662 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 13:07:33.662 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 13:07:33.664 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 1.8433ms
2023-10-09 13:07:33.690 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.1286ms
2023-10-09 13:07:33.985 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 13:07:34.142 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 156.9670ms
2023-10-09 13:07:36.897 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b - -
2023-10-09 13:07:36.927 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 13:07:36.958 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 13:07:38.580 -03:00 [INF] Executed DbCommand (56ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 13:07:38.680 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 13:07:38.772 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:07:38.812 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:07:38.838 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 13:07:38.844 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 13:07:38.957 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 1990.6256ms
2023-10-09 13:07:38.957 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 13:07:38.964 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b - - - 200 467 application/json;+charset=utf-8 2067.4664ms
2023-10-09 13:08:21.553 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 13:08:21.561 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 7.3243ms
2023-10-09 13:08:21.576 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 13:08:21.576 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 13:08:21.577 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 0.4279ms
2023-10-09 13:08:21.588 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 11.6621ms
2023-10-09 13:08:21.710 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 13:08:21.718 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 8.3845ms
2023-10-09 13:09:35.749 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b/cupom application/json 26
2023-10-09 13:09:35.750 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 13:09:35.753 -03:00 [INF] Route matched with {action = "InserirCupomDeDesconto", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InserirCupomDeDesconto(System.Guid, System.String) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 13:09:35.798 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-10-09 13:09:35.837 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API)) in 83.6543ms
2023-10-09 13:09:35.837 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 13:09:35.837 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b/cupom application/json 26 - 400 336 application/problem+json;+charset=utf-8 87.6245ms
2023-10-09 13:10:23.196 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b/cupom/20off application/json 26
2023-10-09 13:10:23.199 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b/cupom/20off application/json 26 - 404 0 - 3.2771ms
2023-10-09 13:10:31.395 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b/cupom/20off - 0
2023-10-09 13:10:31.396 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b/cupom/20off - 0 - 404 0 - 1.6359ms
2023-10-09 13:10:37.484 -03:00 [INF] Inicialização da WEB API...
2023-10-09 13:10:37.637 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 13:10:37.748 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 13:10:37.748 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 13:10:37.750 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 13:10:37.751 -03:00 [INF] Hosting environment: Development
2023-10-09 13:10:37.751 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 13:10:38.066 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 13:10:38.364 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 298.8665ms
2023-10-09 13:10:38.370 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 13:10:38.370 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 13:10:38.373 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 2.7960ms
2023-10-09 13:10:38.388 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.3504ms
2023-10-09 13:10:38.719 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 13:10:38.939 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 219.7709ms
2023-10-09 13:10:41.347 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b/cupom/20off - 0
2023-10-09 13:10:41.377 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 13:10:41.401 -03:00 [INF] Route matched with {action = "InserirCupomDeDesconto", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InserirCupomDeDesconto(System.Guid, System.String) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 13:10:42.984 -03:00 [INF] Executed DbCommand (54ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 13:10:43.081 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cupom_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Cupom` = @__cupom_0
LIMIT 1
2023-10-09 13:10:43.225 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (Size = 4000), @p6='?' (DbType = UInt32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `CupomDeDescontoId` = @p4, `Logradouro` = @p5, `Numero` = @p6, `UF` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-10-09 13:10:43.256 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 13:10:43.320 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:10:43.355 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:10:43.385 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 13:10:43.390 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 13:10:43.490 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API)) in 2085.1844ms
2023-10-09 13:10:43.490 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 13:10:43.498 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b/cupom/20off - 0 - 200 534 application/json;+charset=utf-8 2151.2061ms
2023-10-09 13:12:35.249 -03:00 [INF] Inicialização da WEB API...
2023-10-09 13:12:35.395 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 13:12:35.496 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 13:12:35.496 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 13:12:35.500 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 13:12:35.500 -03:00 [INF] Hosting environment: Development
2023-10-09 13:12:35.500 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 13:12:35.975 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 13:12:36.232 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 259.7284ms
2023-10-09 13:12:36.238 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 13:12:36.238 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 13:12:36.240 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 1.6500ms
2023-10-09 13:12:36.255 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 16.8090ms
2023-10-09 13:12:36.587 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 13:12:36.752 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 165.4960ms
2023-10-09 13:12:41.254 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b - -
2023-10-09 13:12:41.291 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 13:12:41.311 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 13:12:42.988 -03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 13:12:43.142 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 13:12:43.253 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:12:43.296 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:12:43.318 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 13:12:43.352 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 13:12:43.361 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 13:12:43.497 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 2181.2808ms
2023-10-09 13:12:43.497 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 13:12:43.506 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b - - - 200 532 application/json;+charset=utf-8 2251.7619ms
2023-10-09 13:13:27.798 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/GeradorDeCupom application/json 109
2023-10-09 13:13:27.798 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.GeradorDeCupomController.GerarCupomDeDesconto (E-Commerce(API))'
2023-10-09 13:13:27.800 -03:00 [INF] Route matched with {action = "GerarCupomDeDesconto", controller = "GeradorDeCupom"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GerarCupomDeDesconto(E_Commerce_API_.Data.DTOs.GeradorDeCupomDto.CreateCupomDeDescontoDto) on controller E_Commerce_API_.Controllers.GeradorDeCupomController (E-Commerce(API)).
2023-10-09 13:13:28.035 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Guid), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `CuponsDeDesconto` (`Id`, `Cupom`, `SetorDeDesconto`, `Status`, `TipoDeDesconto`, `Uso`, `ValorDoDesconto`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2023-10-09 13:13:28.047 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.GeradorDeCupomDto.ReadCupomDeDescontoDto'.
2023-10-09 13:13:28.050 -03:00 [INF] Executed action E_Commerce_API_.Controllers.GeradorDeCupomController.GerarCupomDeDesconto (E-Commerce(API)) in 249.2651ms
2023-10-09 13:13:28.050 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.GeradorDeCupomController.GerarCupomDeDesconto (E-Commerce(API))'
2023-10-09 13:13:28.050 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/GeradorDeCupom application/json 109 - 200 93 application/json;+charset=utf-8 252.3026ms
2023-10-09 13:13:43.471 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b/cupom/10off - 0
2023-10-09 13:13:43.474 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 13:13:43.477 -03:00 [INF] Route matched with {action = "InserirCupomDeDesconto", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InserirCupomDeDesconto(System.Guid, System.String) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 13:13:43.561 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 13:13:43.566 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cupom_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Cupom` = @__cupom_0
LIMIT 1
2023-10-09 13:13:43.605 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (Size = 4000), @p6='?' (DbType = UInt32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `CupomDeDescontoId` = @p4, `Logradouro` = @p5, `Numero` = @p6, `UF` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-10-09 13:13:43.609 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 13:13:43.611 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:13:43.613 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:13:43.614 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 13:13:43.615 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 13:13:43.615 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API)) in 137.9734ms
2023-10-09 13:13:43.615 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 13:13:43.615 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b/cupom/10off - 0 - 200 537 application/json;+charset=utf-8 143.6740ms
2023-10-09 13:13:58.337 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b/cupom/20off - 0
2023-10-09 13:13:58.340 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 13:13:58.341 -03:00 [INF] Route matched with {action = "InserirCupomDeDesconto", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InserirCupomDeDesconto(System.Guid, System.String) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 13:13:58.352 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 13:13:58.353 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cupom_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Cupom` = @__cupom_0
LIMIT 1
2023-10-09 13:13:58.360 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (Size = 4000), @p6='?' (DbType = UInt32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `CupomDeDescontoId` = @p4, `Logradouro` = @p5, `Numero` = @p6, `UF` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-10-09 13:13:58.361 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 13:13:58.364 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:13:58.366 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:13:58.368 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 13:13:58.368 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 13:13:58.369 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API)) in 28.0107ms
2023-10-09 13:13:58.369 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 13:13:58.369 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b/cupom/20off - 0 - 200 532 application/json;+charset=utf-8 32.0366ms
2023-10-09 13:14:07.913 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b/cupom/10off - 0
2023-10-09 13:14:07.913 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 13:14:07.913 -03:00 [INF] Route matched with {action = "InserirCupomDeDesconto", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InserirCupomDeDesconto(System.Guid, System.String) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 13:14:07.916 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 13:14:07.918 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cupom_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Cupom` = @__cupom_0
LIMIT 1
2023-10-09 13:14:07.924 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (Size = 4000), @p6='?' (DbType = UInt32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `CupomDeDescontoId` = @p4, `Logradouro` = @p5, `Numero` = @p6, `UF` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-10-09 13:14:07.926 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 13:14:07.928 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:14:07.929 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:14:07.931 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 13:14:07.931 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 13:14:07.931 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API)) in 18.0935ms
2023-10-09 13:14:07.931 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 13:14:07.931 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b/cupom/10off - 0 - 200 537 application/json;+charset=utf-8 18.6865ms
2023-10-09 13:29:37.543 -03:00 [INF] Inicialização da WEB API...
2023-10-09 13:29:37.723 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 13:29:37.837 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 13:29:37.837 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 13:29:37.841 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 13:29:37.841 -03:00 [INF] Hosting environment: Development
2023-10-09 13:29:37.841 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 13:29:38.136 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 13:29:38.364 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 13:29:38.364 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 13:29:38.365 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 231.8130ms
2023-10-09 13:29:38.368 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 3.6949ms
2023-10-09 13:29:38.382 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 17.5550ms
2023-10-09 13:29:38.681 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 13:29:38.823 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.6686ms
2023-10-09 13:29:45.530 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b - -
2023-10-09 13:29:45.574 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 13:29:45.602 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 13:29:47.783 -03:00 [INF] Executed DbCommand (62ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 13:29:47.913 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 13:29:48.043 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:29:48.087 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:29:48.120 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 13:29:48.133 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 13:29:48.163 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 13:29:48.300 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 2693.1624ms
2023-10-09 13:29:48.300 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 13:29:48.310 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b - - - 200 547 application/json;+charset=utf-8 2780.1731ms
2023-10-09 13:33:55.604 -03:00 [INF] Inicialização da WEB API...
2023-10-09 13:33:55.758 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 13:33:55.870 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 13:33:55.870 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 13:33:55.873 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 13:33:55.873 -03:00 [INF] Hosting environment: Development
2023-10-09 13:33:55.873 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 13:33:56.224 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 13:33:56.450 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 231.1570ms
2023-10-09 13:33:56.450 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 13:33:56.450 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 13:33:56.453 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 2.4552ms
2023-10-09 13:33:56.464 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 13.7494ms
2023-10-09 13:33:56.792 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 13:33:56.978 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 186.1360ms
2023-10-09 13:33:57.972 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b - -
2023-10-09 13:33:57.998 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 13:33:58.022 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 13:33:59.593 -03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 13:33:59.688 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 13:33:59.774 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:33:59.810 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:33:59.842 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 13:33:59.849 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 13:33:59.869 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 13:33:59.977 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 1950.3256ms
2023-10-09 13:33:59.977 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 13:33:59.987 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b - - - 200 537 application/json;+charset=utf-8 2013.3285ms
2023-10-09 13:34:16.879 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b/cupom/20off - 0
2023-10-09 13:34:16.879 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 13:34:16.881 -03:00 [INF] Route matched with {action = "InserirCupomDeDesconto", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InserirCupomDeDesconto(System.Guid, System.String) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 13:34:16.893 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 13:34:16.906 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cupom_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Cupom` = @__cupom_0
LIMIT 1
2023-10-09 13:34:17.051 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (Size = 4000), @p6='?' (DbType = UInt32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `CupomDeDescontoId` = @p4, `Logradouro` = @p5, `Numero` = @p6, `UF` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-10-09 13:34:17.061 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 13:34:17.062 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:34:17.064 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:34:17.065 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 13:34:17.066 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 13:34:17.066 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API)) in 185.6239ms
2023-10-09 13:34:17.066 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 13:34:17.066 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b/cupom/20off - 0 - 200 533 application/json;+charset=utf-8 187.7296ms
2023-10-09 13:35:18.363 -03:00 [INF] Inicialização da WEB API...
2023-10-09 13:35:18.521 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 13:35:18.640 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 13:35:18.640 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 13:35:18.643 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 13:35:18.644 -03:00 [INF] Hosting environment: Development
2023-10-09 13:35:18.644 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 13:35:18.994 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 13:35:19.248 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 13:35:19.248 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 13:35:19.249 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 260.5392ms
2023-10-09 13:35:19.251 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 2.5406ms
2023-10-09 13:35:19.263 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 14.7073ms
2023-10-09 13:35:19.604 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 13:35:19.796 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 191.6170ms
2023-10-09 13:35:24.229 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b - -
2023-10-09 13:35:24.257 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 13:35:24.284 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 13:35:25.844 -03:00 [INF] Executed DbCommand (65ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 13:35:26.010 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 13:35:26.133 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:35:26.197 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:35:26.235 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 13:35:26.250 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 13:35:26.289 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 13:35:26.415 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 2122.8644ms
2023-10-09 13:35:26.415 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 13:35:26.421 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b - - - 200 533 application/json;+charset=utf-8 2192.3368ms
2023-10-09 13:36:13.762 -03:00 [INF] Inicialização da WEB API...
2023-10-09 13:36:14.044 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 13:36:14.294 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 13:36:14.297 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 13:36:14.303 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 13:36:14.303 -03:00 [INF] Hosting environment: Development
2023-10-09 13:36:14.303 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 13:36:15.291 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 13:36:16.149 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 13:36:16.150 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 13:36:16.168 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 905.4044ms
2023-10-09 13:36:16.168 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 16.8525ms
2023-10-09 13:36:16.187 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 37.8545ms
2023-10-09 13:36:16.300 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 13:36:16.598 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 297.5481ms
2023-10-09 13:36:36.427 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b - -
2023-10-09 13:36:36.589 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 13:36:36.635 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 13:36:40.455 -03:00 [INF] Executed DbCommand (159ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 13:36:40.740 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 13:36:41.026 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:36:41.115 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:36:41.198 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 13:36:41.231 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 13:37:19.336 -03:00 [INF] Inicialização da WEB API...
2023-10-09 13:37:19.457 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 13:37:19.545 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 13:37:19.545 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 13:37:19.548 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 13:37:19.548 -03:00 [INF] Hosting environment: Development
2023-10-09 13:37:19.548 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 13:37:20.178 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 13:37:20.506 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 331.4142ms
2023-10-09 13:37:20.528 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 13:37:20.528 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 13:37:20.535 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 6.4575ms
2023-10-09 13:37:20.584 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 56.4440ms
2023-10-09 13:37:20.695 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 13:37:20.828 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 132.7060ms
2023-10-09 13:37:22.571 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b - -
2023-10-09 13:37:22.605 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 13:37:22.627 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 13:37:24.228 -03:00 [INF] Executed DbCommand (74ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 13:37:24.364 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 13:37:24.473 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:37:24.512 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 13:37:24.540 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 13:37:24.547 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 13:37:24.565 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 13:37:24.662 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 2016.3169ms
2023-10-09 13:37:24.662 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 13:37:24.670 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/f014c085-a3ec-4485-adb9-f42f971e769b - - - 200 532 application/json;+charset=utf-8 2099.1352ms
2023-10-09 15:28:39.557 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/eb016c0a-4132-4253-b46c-d9520050bf76 - -
2023-10-09 15:28:39.558 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 15:28:39.558 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 15:28:39.596 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 15:28:39.598 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 15:28:39.599 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 15:28:39.601 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 15:28:39.606 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 47.6689ms
2023-10-09 15:28:39.607 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 15:28:39.614 -03:00 [ERR] Ocorreu uma exceção: {"TraceId":"cfe461db-d328-472b-b929-f541210b36bb","Error":{"Logref":"InternalServerError","Message":"Error mapping types.\r\n\r\nMapping types:\r\nCarrinhoDeCompras -> ReadCarrinhoDeComprasDto\r\nE_Commerce_API_.Models.CarrinhoDeCompras -> E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto\r\n\r\nType Map configuration:\r\nCarrinhoDeCompras -> ReadCarrinhoDeComprasDto\r\nE_Commerce_API_.Models.CarrinhoDeCompras -> E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto\r\n\r\nDestination Member:\r\nTotal\r\n","$type":"ErrorDetailsDto"},"Data":"09/10/2023","$type":"ErrorResponseDto"}
2023-10-09 15:28:39.623 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/eb016c0a-4132-4253-b46c-d9520050bf76 - - - 500 - application/json 65.5175ms
2023-10-09 15:29:54.122 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/d8654a41-53f7-4cd6-a00b-b3130fb5de00 - -
2023-10-09 15:29:54.125 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 15:29:54.126 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 15:29:54.199 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 15:29:54.200 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 15:29:54.203 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 15:29:54.304 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p0='?' (DbType = UInt32), @p1='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `ProdutosNoCarrinho` SET `Quantidade` = @p0, `ValorNoCarrinho` = @p1
WHERE `CarrinhoDeComprasId` = @p2 AND `ProdutoId` = @p3;
SELECT ROW_COUNT();
2023-10-09 15:29:54.312 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 15:29:54.316 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 15:29:54.319 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 15:29:54.320 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 193.8468ms
2023-10-09 15:29:54.320 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 15:29:54.320 -03:00 [ERR] Ocorreu uma exceção: {"TraceId":"53db3049-c0fb-4d17-86f0-aac224eba4ec","Error":{"Logref":"InternalServerError","Message":"Error mapping types.\r\n\r\nMapping types:\r\nCarrinhoDeCompras -> ReadCarrinhoDeComprasDto\r\nE_Commerce_API_.Models.CarrinhoDeCompras -> E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto\r\n\r\nType Map configuration:\r\nCarrinhoDeCompras -> ReadCarrinhoDeComprasDto\r\nE_Commerce_API_.Models.CarrinhoDeCompras -> E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto\r\n\r\nDestination Member:\r\nTotal\r\n","$type":"ErrorDetailsDto"},"Data":"09/10/2023","$type":"ErrorResponseDto"}
2023-10-09 15:29:54.320 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/d8654a41-53f7-4cd6-a00b-b3130fb5de00 - - - 500 - application/json 198.0455ms
2023-10-09 15:31:24.799 -03:00 [INF] Inicialização da WEB API...
2023-10-09 15:31:25.124 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 15:31:25.414 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 15:31:25.414 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 15:31:25.417 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 15:31:25.418 -03:00 [INF] Hosting environment: Development
2023-10-09 15:31:25.418 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 15:31:26.192 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 15:31:26.653 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 15:31:26.653 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 15:31:26.680 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 25.7540ms
2023-10-09 15:31:26.681 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 499.3051ms
2023-10-09 15:31:26.704 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 51.2787ms
2023-10-09 15:31:26.870 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 15:31:27.224 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 354.4192ms
2023-10-09 15:31:28.794 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/d8654a41-53f7-4cd6-a00b-b3130fb5de00 - -
2023-10-09 15:31:28.904 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 15:31:28.942 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 15:31:32.248 -03:00 [INF] Executed DbCommand (91ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 15:31:41.127 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 15:31:52.974 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 15:31:57.283 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 15:32:01.863 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 15:32:14.620 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 15:33:15.460 -03:00 [INF] Inicialização da WEB API...
2023-10-09 15:33:15.596 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 15:33:15.694 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 15:33:15.694 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 15:33:15.697 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 15:33:15.697 -03:00 [INF] Hosting environment: Development
2023-10-09 15:33:15.697 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 15:33:16.284 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 15:33:16.607 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 326.2418ms
2023-10-09 15:33:16.612 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 15:33:16.612 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 15:33:16.616 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 3.3029ms
2023-10-09 15:33:16.627 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 14.6999ms
2023-10-09 15:33:16.827 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 15:33:17.028 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 200.9309ms
2023-10-09 15:33:20.967 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 15:33:20.973 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 6.5723ms
2023-10-09 15:33:20.985 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 15:33:20.985 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 15:33:20.985 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 0.3843ms
2023-10-09 15:33:20.989 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 4.2421ms
2023-10-09 15:33:21.098 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 15:33:21.107 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 9.5862ms
2023-10-09 15:33:26.239 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 15:33:26.246 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 7.1664ms
2023-10-09 15:33:26.265 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 15:33:26.266 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 0.2847ms
2023-10-09 15:33:26.266 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 15:33:26.271 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 4.7662ms
2023-10-09 15:33:26.406 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 15:33:26.413 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 7.4028ms
2023-10-09 15:33:28.765 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras application/json 83
2023-10-09 15:33:28.812 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.CriarCarrinho (E-Commerce(API))'
2023-10-09 15:33:28.878 -03:00 [INF] Route matched with {action = "CriarCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarCarrinho(E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.CreateCarrinhoDeComprasDto) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 15:33:29.618 -03:00 [INF] Iniciada pesquisa do produto "be4bc549-f748-40ab-9cbf-bdc506df2aa0".
2023-10-09 15:33:31.174 -03:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-10-09 15:33:31.562 -03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 15:33:31.615 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-09 15:33:31.646 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 15:33:31.899 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Guid), @p6='?' (Size = 4000), @p7='?' (DbType = UInt32), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = UInt32), @p12='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `CarrinhosDeCompras` (`Id`, `Bairro`, `CEP`, `Cidade`, `Complemento`, `CupomDeDescontoId`, `Logradouro`, `Numero`, `UF`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
INSERT INTO `ProdutosNoCarrinho` (`CarrinhoDeComprasId`, `ProdutoId`, `Quantidade`, `ValorNoCarrinho`)
VALUES (@p9, @p10, @p11, @p12);
2023-10-09 15:33:31.939 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 15:33:31.951 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.CriarCarrinho (E-Commerce(API)) in 3069.8579ms
2023-10-09 15:33:31.952 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.CriarCarrinho (E-Commerce(API))'
2023-10-09 15:33:31.953 -03:00 [ERR] Ocorreu uma exceção: {"TraceId":"793c8cdc-b051-46fc-9877-cdac106c5ca0","Error":{"Logref":"InternalServerError","Message":"Error mapping types.\r\n\r\nMapping types:\r\nCarrinhoDeCompras -> ReadCarrinhoDeComprasDto\r\nE_Commerce_API_.Models.CarrinhoDeCompras -> E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto\r\n\r\nType Map configuration:\r\nCarrinhoDeCompras -> ReadCarrinhoDeComprasDto\r\nE_Commerce_API_.Models.CarrinhoDeCompras -> E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto\r\n\r\nDestination Member:\r\nTotal\r\n","$type":"ErrorDetailsDto"},"Data":"09/10/2023","$type":"ErrorResponseDto"}
2023-10-09 15:33:31.988 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras application/json 83 - 500 - application/json 3223.2434ms
2023-10-09 15:34:45.457 -03:00 [INF] Inicialização da WEB API...
2023-10-09 15:34:45.605 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 15:34:45.716 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 15:34:45.716 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 15:34:45.720 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 15:34:45.721 -03:00 [INF] Hosting environment: Development
2023-10-09 15:34:45.721 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 15:34:46.095 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 15:34:46.389 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 297.0100ms
2023-10-09 15:34:46.395 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 15:34:46.395 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 15:34:46.399 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 3.8876ms
2023-10-09 15:34:46.412 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 17.1268ms
2023-10-09 15:34:46.536 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 15:34:46.700 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 163.9532ms
2023-10-09 15:34:50.258 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/d8654a41-53f7-4cd6-a00b-b3130fb5de00 - -
2023-10-09 15:34:50.301 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 15:34:50.321 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 15:34:51.843 -03:00 [INF] Executed DbCommand (49ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 15:34:51.938 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 15:34:52.015 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 15:34:52.053 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 15:34:52.054 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 15:34:52.080 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 15:34:52.090 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 15:34:52.182 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 1854.2549ms
2023-10-09 15:34:52.182 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 15:34:52.187 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/d8654a41-53f7-4cd6-a00b-b3130fb5de00 - - - 200 581 application/json;+charset=utf-8 1929.4821ms
2023-10-09 15:35:58.804 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/d8654a41-53f7-4cd6-a00b-b3130fb5de00/cupom/20off - 0
2023-10-09 15:35:58.805 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 15:35:58.807 -03:00 [INF] Route matched with {action = "InserirCupomDeDesconto", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InserirCupomDeDesconto(System.Guid, System.String) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 15:35:58.821 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 15:35:58.830 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cupom_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Cupom` = @__cupom_0
LIMIT 1
2023-10-09 15:35:58.988 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (Size = 4000), @p6='?' (DbType = UInt32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `CupomDeDescontoId` = @p4, `Logradouro` = @p5, `Numero` = @p6, `UF` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-10-09 15:35:58.998 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 15:35:59.005 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 15:35:59.009 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 15:35:59.012 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 15:35:59.015 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 15:35:59.015 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 15:35:59.018 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API)) in 210.7668ms
2023-10-09 15:35:59.018 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 15:35:59.019 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/d8654a41-53f7-4cd6-a00b-b3130fb5de00/cupom/20off - 0 - 200 647 application/json;+charset=utf-8 214.7651ms
2023-10-09 15:36:31.005 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/GeradorDeCupom - -
2023-10-09 15:36:31.007 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.GeradorDeCupomController.ListarCupons (E-Commerce(API))'
2023-10-09 15:36:31.008 -03:00 [INF] Route matched with {action = "ListarCupons", controller = "GeradorDeCupom"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ListarCupons() on controller E_Commerce_API_.Controllers.GeradorDeCupomController (E-Commerce(API)).
2023-10-09 15:36:31.076 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
2023-10-09 15:36:31.082 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce_API_.Data.DTOs.GeradorDeCupomDto.ReadCupomDeDescontoDto, E-Commerce(API), Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-09 15:36:31.087 -03:00 [INF] Executed action E_Commerce_API_.Controllers.GeradorDeCupomController.ListarCupons (E-Commerce(API)) in 78.9131ms
2023-10-09 15:36:31.087 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.GeradorDeCupomController.ListarCupons (E-Commerce(API))'
2023-10-09 15:36:31.087 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/GeradorDeCupom - - - 200 194 application/json;+charset=utf-8 82.4785ms
2023-10-09 15:44:06.800 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/d8654a41-53f7-4cd6-a00b-b3130fb5de00 - -
2023-10-09 15:44:06.800 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 15:44:06.800 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 15:44:06.831 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 15:44:06.832 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 15:44:06.834 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 15:44:06.844 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 15:44:06.847 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 15:44:06.849 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 15:44:06.854 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 15:44:06.855 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 15:44:06.855 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 54.831ms
2023-10-09 15:44:06.855 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 15:44:06.855 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/d8654a41-53f7-4cd6-a00b-b3130fb5de00 - - - 200 647 application/json;+charset=utf-8 55.6647ms
2023-10-09 16:42:30.738 -03:00 [INF] Inicialização da WEB API...
2023-10-09 16:42:30.911 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 16:42:31.046 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 16:42:31.046 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 16:42:31.050 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 16:42:31.050 -03:00 [INF] Hosting environment: Development
2023-10-09 16:42:31.050 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 16:42:31.503 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 16:42:31.736 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 234.9179ms
2023-10-09 16:42:31.741 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 16:42:31.741 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 16:42:31.744 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 2.6527ms
2023-10-09 16:42:31.760 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.6125ms
2023-10-09 16:42:32.097 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 16:42:32.214 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 116.8623ms
2023-10-09 16:42:57.224 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/GeradorDeCupom application/json 114
2023-10-09 16:42:57.275 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.GeradorDeCupomController.GerarCupomDeDesconto (E-Commerce(API))'
2023-10-09 16:42:57.312 -03:00 [INF] Route matched with {action = "GerarCupomDeDesconto", controller = "GeradorDeCupom"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GerarCupomDeDesconto(E_Commerce_API_.Data.DTOs.GeradorDeCupomDto.CreateCupomDeDescontoDto) on controller E_Commerce_API_.Controllers.GeradorDeCupomController (E-Commerce(API)).
2023-10-09 16:42:59.663 -03:00 [INF] Executed DbCommand (98ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Guid), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `CuponsDeDesconto` (`Id`, `Cupom`, `SetorDeDesconto`, `Status`, `TipoDeDesconto`, `Uso`, `ValorDoDesconto`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2023-10-09 16:42:59.713 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.GeradorDeCupomDto.ReadCupomDeDescontoDto'.
2023-10-09 16:42:59.787 -03:00 [INF] Executed action E_Commerce_API_.Controllers.GeradorDeCupomController.GerarCupomDeDesconto (E-Commerce(API)) in 2466.6348ms
2023-10-09 16:42:59.787 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.GeradorDeCupomController.GerarCupomDeDesconto (E-Commerce(API))'
2023-10-09 16:42:59.796 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/GeradorDeCupom application/json 114 - 200 98 application/json;+charset=utf-8 2572.5483ms
2023-10-09 16:43:14.834 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/d8654a41-53f7-4cd6-a00b-b3130fb5de00/cupom/50off - 0
2023-10-09 16:43:14.834 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 16:43:14.838 -03:00 [INF] Route matched with {action = "InserirCupomDeDesconto", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InserirCupomDeDesconto(System.Guid, System.String) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 16:43:15.318 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 16:43:15.367 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cupom_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Cupom` = @__cupom_0
LIMIT 1
2023-10-09 16:43:15.380 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
2023-10-09 16:43:15.393 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API)) in 554.6197ms
2023-10-09 16:43:15.393 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 16:43:15.397 -03:00 [ERR] Ocorreu uma exceção: {"TraceId":"73c9500d-b579-4793-a5f2-f476705fce5b","Error":{"Logref":"InternalServerError","Message":"Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).","$type":"ErrorDetailsDto"},"Data":"09/10/2023","$type":"ErrorResponseDto"}
2023-10-09 16:43:15.410 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/d8654a41-53f7-4cd6-a00b-b3130fb5de00/cupom/50off - 0 - 500 - application/json 576.7509ms
2023-10-09 16:43:42.799 -03:00 [INF] Inicialização da WEB API...
2023-10-09 16:43:42.939 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 16:43:43.042 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 16:43:43.042 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 16:43:43.046 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 16:43:43.047 -03:00 [INF] Hosting environment: Development
2023-10-09 16:43:43.047 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 16:43:43.373 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 16:43:43.607 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 238.0064ms
2023-10-09 16:43:43.612 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 16:43:43.612 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 16:43:43.614 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 2.3215ms
2023-10-09 16:43:43.624 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 12.0179ms
2023-10-09 16:43:43.894 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 16:43:44.026 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 131.8756ms
2023-10-09 16:43:48.223 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/d8654a41-53f7-4cd6-a00b-b3130fb5de00/cupom/50off - 0
2023-10-09 16:43:48.259 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 16:43:48.286 -03:00 [INF] Route matched with {action = "InserirCupomDeDesconto", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InserirCupomDeDesconto(System.Guid, System.String) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 16:43:49.810 -03:00 [INF] Executed DbCommand (49ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 16:43:49.913 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cupom_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Cupom` = @__cupom_0
LIMIT 1
2023-10-09 16:43:49.937 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
2023-10-09 16:43:50.084 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (Size = 4000), @p6='?' (DbType = UInt32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `CupomDeDescontoId` = @p4, `Logradouro` = @p5, `Numero` = @p6, `UF` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-10-09 16:43:50.113 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 16:43:50.185 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 16:43:50.231 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 16:43:50.233 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 16:43:50.272 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 16:43:50.297 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 16:43:50.414 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API)) in 2124.0561ms
2023-10-09 16:43:50.414 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 16:43:50.419 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/d8654a41-53f7-4cd6-a00b-b3130fb5de00/cupom/50off - 0 - 200 646 application/json;+charset=utf-8 2195.3233ms
2023-10-09 16:44:45.585 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/512ac3da-a4e7-43aa-a641-fabb135bc9c1/cupom/50off - 0
2023-10-09 16:44:45.587 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 16:44:45.587 -03:00 [INF] Route matched with {action = "InserirCupomDeDesconto", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InserirCupomDeDesconto(System.Guid, System.String) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 16:44:45.599 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 16:44:45.601 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cupom_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Cupom` = @__cupom_0
LIMIT 1
2023-10-09 16:44:45.602 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
2023-10-09 16:44:45.604 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API)) in 16.8958ms
2023-10-09 16:44:45.605 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 16:44:45.610 -03:00 [ERR] Erro: {"TraceId":"850e4fab-fc62-44f3-9849-9c81abb66f7e","Error":{"Logref":"BadRequest","Message":"Cupom inválido.","$type":"ErrorDetailsDto"},"Data":"09/10/2023","$type":"ErrorResponseDto"}
2023-10-09 16:44:45.623 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/512ac3da-a4e7-43aa-a641-fabb135bc9c1/cupom/50off - 0 - 400 - application/json 37.7878ms
2023-10-09 16:45:04.461 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/GeradorDeCupom - -
2023-10-09 16:45:04.463 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.GeradorDeCupomController.ListarCupons (E-Commerce(API))'
2023-10-09 16:45:04.465 -03:00 [INF] Route matched with {action = "ListarCupons", controller = "GeradorDeCupom"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ListarCupons() on controller E_Commerce_API_.Controllers.GeradorDeCupomController (E-Commerce(API)).
2023-10-09 16:45:04.555 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
2023-10-09 16:45:04.566 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce_API_.Data.DTOs.GeradorDeCupomDto.ReadCupomDeDescontoDto, E-Commerce(API), Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-09 16:45:04.572 -03:00 [INF] Executed action E_Commerce_API_.Controllers.GeradorDeCupomController.ListarCupons (E-Commerce(API)) in 107.5898ms
2023-10-09 16:45:04.573 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.GeradorDeCupomController.ListarCupons (E-Commerce(API))'
2023-10-09 16:45:04.573 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/GeradorDeCupom - - - 200 293 application/json;+charset=utf-8 111.3312ms
2023-10-09 16:46:42.942 -03:00 [INF] Inicialização da WEB API...
2023-10-09 16:46:43.071 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 16:46:43.179 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 16:46:43.179 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 16:46:43.182 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 16:46:43.183 -03:00 [INF] Hosting environment: Development
2023-10-09 16:46:43.183 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 16:46:43.612 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 16:46:43.833 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 222.7800ms
2023-10-09 16:46:43.840 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 16:46:43.840 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 16:46:43.844 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 4.2320ms
2023-10-09 16:46:43.860 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 20.3241ms
2023-10-09 16:46:44.202 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 16:46:44.355 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 152.9732ms
2023-10-09 16:46:50.683 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/d8654a41-53f7-4cd6-a00b-b3130fb5de00 - -
2023-10-09 16:46:50.728 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 16:46:50.768 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 16:46:53.213 -03:00 [INF] Executed DbCommand (56ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 16:46:53.406 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 16:46:53.523 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 16:46:53.574 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 16:46:53.576 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 16:46:53.617 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 16:46:53.627 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 16:46:53.667 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 16:46:53.860 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 3085.882ms
2023-10-09 16:46:53.860 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 16:46:53.869 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/d8654a41-53f7-4cd6-a00b-b3130fb5de00 - - - 200 646 application/json;+charset=utf-8 3185.3177ms
2023-10-09 16:47:01.659 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/512ac3da-a4e7-43aa-a641-fabb135bc9c1/cupom/50off - 0
2023-10-09 16:47:01.660 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 16:47:01.662 -03:00 [INF] Route matched with {action = "InserirCupomDeDesconto", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InserirCupomDeDesconto(System.Guid, System.String) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 16:47:01.675 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 16:47:01.684 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cupom_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Cupom` = @__cupom_0
LIMIT 1
2023-10-09 16:47:01.689 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
2023-10-09 16:47:01.691 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API)) in 29.0763ms
2023-10-09 16:47:01.692 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 16:47:01.698 -03:00 [ERR] Erro: {"TraceId":"947bb6af-3c2a-4123-96a4-45a13ebd9101","Error":{"Logref":"BadRequest","Message":"Cupom já utilizado.","$type":"ErrorDetailsDto"},"Data":"09/10/2023","$type":"ErrorResponseDto"}
2023-10-09 16:47:01.711 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/512ac3da-a4e7-43aa-a641-fabb135bc9c1/cupom/50off - 0 - 400 - application/json 52.2713ms
2023-10-09 16:47:11.373 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/512ac3da-a4e7-43aa-a641-fabb135bc9c1/cupom/20off - 0
2023-10-09 16:47:11.375 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 16:47:11.375 -03:00 [INF] Route matched with {action = "InserirCupomDeDesconto", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InserirCupomDeDesconto(System.Guid, System.String) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 16:47:11.438 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 16:47:11.440 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cupom_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Cupom` = @__cupom_0
LIMIT 1
2023-10-09 16:47:11.560 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (Size = 4000), @p6='?' (DbType = UInt32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `CupomDeDescontoId` = @p4, `Logradouro` = @p5, `Numero` = @p6, `UF` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-10-09 16:47:11.571 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 16:47:11.574 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 16:47:11.577 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 16:47:11.578 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 16:47:11.579 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API)) in 203.049ms
2023-10-09 16:47:11.579 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 16:47:11.579 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/512ac3da-a4e7-43aa-a641-fabb135bc9c1/cupom/20off - 0 - 200 421 application/json;+charset=utf-8 205.6566ms
2023-10-09 16:47:29.212 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/512ac3da-a4e7-43aa-a641-fabb135bc9c1/cupom/10off - 0
2023-10-09 16:47:29.212 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 16:47:29.212 -03:00 [INF] Route matched with {action = "InserirCupomDeDesconto", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InserirCupomDeDesconto(System.Guid, System.String) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 16:47:29.216 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 16:47:29.219 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cupom_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Cupom` = @__cupom_0
LIMIT 1
2023-10-09 16:47:29.228 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (Size = 4000), @p6='?' (DbType = UInt32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `CupomDeDescontoId` = @p4, `Logradouro` = @p5, `Numero` = @p6, `UF` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-10-09 16:47:29.229 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 16:47:29.231 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 16:47:29.235 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 16:47:29.236 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 16:47:29.236 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API)) in 23.6216ms
2023-10-09 16:47:29.236 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 16:47:29.236 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/512ac3da-a4e7-43aa-a641-fabb135bc9c1/cupom/10off - 0 - 200 426 application/json;+charset=utf-8 24.3846ms
2023-10-09 16:59:33.523 -03:00 [INF] Inicialização da WEB API...
2023-10-09 16:59:33.642 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 16:59:33.744 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 16:59:33.744 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 16:59:33.747 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 16:59:33.747 -03:00 [INF] Hosting environment: Development
2023-10-09 16:59:33.747 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 16:59:34.079 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 16:59:34.265 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 187.6838ms
2023-10-09 16:59:34.269 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 16:59:34.269 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 16:59:34.270 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 1.7128ms
2023-10-09 16:59:34.282 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 13.3097ms
2023-10-09 16:59:34.418 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 16:59:34.570 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 151.9573ms
2023-10-09 17:01:02.873 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/Categoria/ - -
2023-10-09 17:01:02.929 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CategoriaController.PesquisarCategorias (E-Commerce(API))'
2023-10-09 17:01:02.984 -03:00 [INF] Route matched with {action = "PesquisarCategorias", controller = "Categoria"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PesquisarCategorias(E_Commerce_API_.Data.DTOs.CategoriaDto.FiltroCategoriaDto) on controller E_Commerce_API_.Controllers.CategoriaController (E-Commerce(API)).
2023-10-09 17:01:03.564 -03:00 [INF] Foi requisitado uma pesquisa de categorias.
2023-10-09 17:01:03.565 -03:00 [INF] Iniciada a pesquisa de categoria com os filtros informados: {"Nome":null,"Ordem":"Crescente","Status":"Todos","Registros":10,"Pagina":1,"$type":"FiltroCategoriaDto"}
2023-10-09 17:01:03.587 -03:00 [INF] Criação da querie para pesquisa de categorias.
2023-10-09 17:01:04.184 -03:00 [INF] Foram encontrados 10 categorias.
2023-10-09 17:01:04.249 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce_API_.Data.DTOs.CategoriaDto.ReadCategoriaDto, E-Commerce(API), Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-09 17:01:04.391 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CategoriaController.PesquisarCategorias (E-Commerce(API)) in 1402.7001ms
2023-10-09 17:01:04.392 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CategoriaController.PesquisarCategorias (E-Commerce(API))'
2023-10-09 17:01:04.393 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/Categoria/ - - - 200 1435 application/json;+charset=utf-8 1520.2889ms
2023-10-09 17:01:26.859 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/GeradorDeCupom application/json 178
2023-10-09 17:01:26.860 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.GeradorDeCupomController.GerarCupomDeDesconto (E-Commerce(API))'
2023-10-09 17:01:26.861 -03:00 [INF] Route matched with {action = "GerarCupomDeDesconto", controller = "GeradorDeCupom"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GerarCupomDeDesconto(E_Commerce_API_.Data.DTOs.GeradorDeCupomDto.CreateCupomDeDescontoDto) on controller E_Commerce_API_.Controllers.GeradorDeCupomController (E-Commerce(API)).
2023-10-09 17:01:28.336 -03:00 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Guid), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `CuponsDeDesconto` (`Id`, `Cupom`, `SetorDeDesconto`, `Status`, `TipoDeDesconto`, `Uso`, `ValorDoDesconto`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2023-10-09 17:01:28.371 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.GeradorDeCupomDto.ReadCupomDeDescontoDto'.
2023-10-09 17:01:28.379 -03:00 [INF] Executed action E_Commerce_API_.Controllers.GeradorDeCupomController.GerarCupomDeDesconto (E-Commerce(API)) in 1516.9032ms
2023-10-09 17:01:28.379 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.GeradorDeCupomController.GerarCupomDeDesconto (E-Commerce(API))'
2023-10-09 17:01:28.386 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/GeradorDeCupom application/json 178 - 200 155 application/json;+charset=utf-8 1527.5317ms
2023-10-09 17:02:02.597 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras application/json 83
2023-10-09 17:02:02.601 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.CriarCarrinho (E-Commerce(API))'
2023-10-09 17:02:02.604 -03:00 [INF] Route matched with {action = "CriarCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarCarrinho(E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.CreateCarrinhoDeComprasDto) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 17:02:02.633 -03:00 [INF] Iniciada pesquisa do produto "be4bc549-f748-40ab-9cbf-bdc506df2aa0".
2023-10-09 17:02:03.085 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-10-09 17:02:03.310 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:02:03.375 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-09 17:02:03.438 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:02:03.568 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Guid), @p6='?' (Size = 4000), @p7='?' (DbType = UInt32), @p8='?' (Size = 4000), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = UInt32), @p12='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `CarrinhosDeCompras` (`Id`, `Bairro`, `CEP`, `Cidade`, `Complemento`, `CupomDeDescontoId`, `Logradouro`, `Numero`, `UF`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
INSERT INTO `ProdutosNoCarrinho` (`CarrinhoDeComprasId`, `ProdutoId`, `Quantidade`, `ValorNoCarrinho`)
VALUES (@p9, @p10, @p11, @p12);
2023-10-09 17:02:03.595 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 17:02:03.606 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 17:02:03.640 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.CriarCarrinho (E-Commerce(API)) in 1035.2474ms
2023-10-09 17:02:03.640 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.CriarCarrinho (E-Commerce(API))'
2023-10-09 17:02:03.640 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras application/json 83 - 201 197 application/json;+charset=utf-8 1043.4690ms
2023-10-09 17:02:16.992 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b - -
2023-10-09 17:02:16.992 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 17:02:16.993 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 17:02:17.026 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 17:02:17.030 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 17:02:17.039 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 17:02:17.052 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 17:02:17.053 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 17:02:17.053 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 59.1576ms
2023-10-09 17:02:17.053 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 17:02:17.053 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b - - - 200 197 application/json;+charset=utf-8 61.5425ms
2023-10-09 17:02:32.047 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b/cupom/50reaisoff - 0
2023-10-09 17:02:32.047 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 17:02:32.048 -03:00 [INF] Route matched with {action = "InserirCupomDeDesconto", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InserirCupomDeDesconto(System.Guid, System.String) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 17:02:32.082 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 17:02:32.092 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cupom_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Cupom` = @__cupom_0
LIMIT 1
2023-10-09 17:02:32.120 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (Size = 4000), @p6='?' (DbType = UInt32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `CupomDeDescontoId` = @p4, `Logradouro` = @p5, `Numero` = @p6, `UF` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-10-09 17:02:32.122 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 17:02:32.124 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 17:02:32.126 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 17:02:32.128 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-09 17:02:32.130 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:02:32.131 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 17:02:32.133 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API)) in 84.2139ms
2023-10-09 17:02:32.133 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 17:02:32.133 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b/cupom/50reaisoff - 0 - 200 272 application/json;+charset=utf-8 86.4891ms
2023-10-09 17:03:24.199 -03:00 [INF] Inicialização da WEB API...
2023-10-09 17:03:24.672 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 17:03:24.909 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 17:03:24.909 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 17:03:24.913 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 17:03:24.914 -03:00 [INF] Hosting environment: Development
2023-10-09 17:03:24.914 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 17:03:25.608 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 17:03:26.114 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 513.0570ms
2023-10-09 17:03:26.122 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 17:03:26.122 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 17:03:26.126 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 4.2944ms
2023-10-09 17:03:26.145 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.0945ms
2023-10-09 17:03:26.458 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 17:03:26.841 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 384.1635ms
2023-10-09 17:03:32.651 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b - -
2023-10-09 17:03:32.759 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 17:03:32.805 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 17:03:36.116 -03:00 [INF] Executed DbCommand (94ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 17:03:41.376 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 17:03:41.615 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 17:03:41.717 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 17:03:41.739 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:03:54.305 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-09 17:03:54.347 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:05:24.752 -03:00 [INF] Inicialização da WEB API...
2023-10-09 17:05:24.868 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 17:05:24.956 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 17:05:24.956 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 17:05:24.958 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 17:05:24.958 -03:00 [INF] Hosting environment: Development
2023-10-09 17:05:24.958 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 17:05:25.418 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 17:05:25.707 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 17:05:25.707 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 17:05:25.708 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 292.0228ms
2023-10-09 17:05:25.710 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 2.8909ms
2023-10-09 17:05:25.720 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 12.4771ms
2023-10-09 17:05:25.837 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 17:05:26.022 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 185.4568ms
2023-10-09 17:05:29.368 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b - -
2023-10-09 17:05:29.401 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 17:05:29.422 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 17:05:30.938 -03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 17:05:31.044 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 17:05:31.142 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 17:05:31.202 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 17:05:31.211 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:05:31.234 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-09 17:05:31.254 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:05:31.269 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 17:05:31.374 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 1947.4783ms
2023-10-09 17:05:31.374 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 17:05:31.382 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b - - - 200 272 application/json;+charset=utf-8 2014.3127ms
2023-10-09 17:06:31.890 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b application/json 91
2023-10-09 17:06:31.891 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.AdicionarProdutosAoCarrinho (E-Commerce(API))'
2023-10-09 17:06:31.894 -03:00 [INF] Route matched with {action = "AdicionarProdutosAoCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdicionarProdutosAoCarrinho(System.Guid, E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.AddProdutosAoCarrinhoDto) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 17:06:31.966 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 17:06:31.977 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 17:06:31.979 -03:00 [INF] Iniciada pesquisa do produto "45f99c7f-8840-41c9-9980-3427d3a8492f".
2023-10-09 17:06:31.987 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-10-09 17:06:32.003 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:06:32.037 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-09 17:06:32.039 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:06:32.189 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = UInt32), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `ProdutosNoCarrinho` (`CarrinhoDeComprasId`, `ProdutoId`, `Quantidade`, `ValorNoCarrinho`)
VALUES (@p0, @p1, @p2, @p3);
2023-10-09 17:06:32.198 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 17:06:32.200 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:06:32.202 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-09 17:06:32.203 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:06:32.203 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 17:06:32.204 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.AdicionarProdutosAoCarrinho (E-Commerce(API)) in 309.5495ms
2023-10-09 17:06:32.204 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.AdicionarProdutosAoCarrinho (E-Commerce(API))'
2023-10-09 17:06:32.204 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b application/json 91 - 200 380 application/json;+charset=utf-8 314.2669ms
2023-10-09 17:06:45.008 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/Produto/? - -
2023-10-09 17:06:45.166 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-10-09 17:06:45.166 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-10-09 17:06:45.166 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.ProdutoController.PesquisarProduto (E-Commerce(API))'
2023-10-09 17:06:45.171 -03:00 [INF] Route matched with {action = "PesquisarProduto", controller = "Produto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PesquisarProduto(E_Commerce_API_.Data.DTOs.ProdutoDto.FiltroProdutoDto) on controller E_Commerce_API_.Controllers.ProdutoController (E-Commerce(API)).
2023-10-09 17:06:45.180 -03:00 [INF] Foi requisitado uma pesquisa de produtos.
2023-10-09 17:06:45.180 -03:00 [INF] Iniciada a pesquisa de produtos com os filtros informados: {"Nome":null,"Peso":null,"Altura":null,"Largura":null,"Comprimento":null,"Valor":null,"Estoque":null,"CentroDeDistribuicaoId":null,"CategoriaId":null,"SubcategoriaId":null,"Status":"Todos","Ordem":"Crescente","Registros":30,"Pagina":1,"$type":"FiltroProdutoDto"}
2023-10-09 17:06:45.187 -03:00 [INF] Criação da querie para pesquisa de produtos.
2023-10-09 17:06:45.262 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT * FROM `E-COMMERCE(API)`.PRODUTOS WHERE 1=1 ORDER BY PRODUTOS.NOME LIMIT 0, 30
2023-10-09 17:06:45.277 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:06:45.279 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-09 17:06:45.283 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:06:45.286 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:06:45.288 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-09 17:06:45.290 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:06:45.292 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:06:45.294 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-09 17:06:45.296 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:06:45.300 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-09 17:06:45.303 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:06:45.303 -03:00 [INF] Foram encontrados 6 produtos a partir da querie: SELECT * FROM `E-COMMERCE(API)`.PRODUTOS WHERE 1=1 ORDER BY PRODUTOS.NOME LIMIT 0, 30
2023-10-09 17:06:45.303 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce_API_.Data.DTOs.ProdutoDto.ReadProdutoDto, E-Commerce(API), Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-09 17:06:45.312 -03:00 [INF] Executed action E_Commerce_API_.Controllers.ProdutoController.PesquisarProduto (E-Commerce(API)) in 140.6608ms
2023-10-09 17:06:45.312 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.ProdutoController.PesquisarProduto (E-Commerce(API))'
2023-10-09 17:06:45.312 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/Produto/? - - - 200 2367 application/json;+charset=utf-8 304.5654ms
2023-10-09 17:07:03.117 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b - -
2023-10-09 17:07:03.118 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 17:07:03.118 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 17:07:03.129 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 17:07:03.132 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 17:07:03.134 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 17:07:03.137 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 17:07:03.141 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 17:07:03.143 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:07:03.146 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-09 17:07:03.150 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:07:03.152 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-09 17:07:03.155 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:07:03.155 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 17:07:03.156 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 37.7845ms
2023-10-09 17:07:03.156 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 17:07:03.156 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b - - - 200 380 application/json;+charset=utf-8 38.5223ms
2023-10-09 17:08:24.147 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/Produto application/json 339
2023-10-09 17:08:24.149 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-10-09 17:08:24.149 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-10-09 17:08:24.164 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-10-09 17:08:24.172 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-10-09 17:08:24.173 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/Produto application/json 339 - 401 0 - 25.9043ms
2023-10-09 17:08:58.934 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/Produto application/json 339
2023-10-09 17:08:58.968 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.ProdutoController.CadastrarProduto (E-Commerce(API))'
2023-10-09 17:08:58.969 -03:00 [INF] Route matched with {action = "CadastrarProduto", controller = "Produto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CadastrarProduto(E_Commerce_API_.Data.DTOs.ProdutoDto.CreateProdutoDto) on controller E_Commerce_API_.Controllers.ProdutoController (E-Commerce(API)).
2023-10-09 17:08:58.992 -03:00 [INF] Foi requisitado um cadastro de produto pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-10-09 17:08:58.992 -03:00 [INF] Iniciada adição de um novo produto.
2023-10-09 17:08:58.998 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-10-09 17:08:59.006 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-10-09 17:08:59.008 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-10-09 17:08:59.008 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-10-09 17:08:59.035 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-10-09 17:08:59.061 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Double), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 512), @p7='?' (DbType = Double), @p8='?' (Size = 128), @p9='?' (DbType = Double), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Guid), @p13='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `Produtos` (`Id`, `Altura`, `CentroDeDistribuicaoId`, `Comprimento`, `DataEHoraCriacao`, `DataEHoraModificacao`, `Descricao`, `Largura`, `Nome`, `Peso`, `QuantidadeEmEstoque`, `Status`, `SubcategoriaId`, `Valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2023-10-09 17:08:59.062 -03:00 [INF] Produto com Id '"0014cae2-671f-4246-9d69-b1413711edae"' incluído no banco de dados.
2023-10-09 17:08:59.062 -03:00 [INF] Produto cadastrado com sucesso.
2023-10-09 17:08:59.093 -03:00 [INF] Criado os links de acesso: [{"Href":"https://localhost:7296/Produto/0014cae2-671f-4246-9d69-b1413711edae","Rel":"self","Method":"GET","Arguments":null,"$type":"LinkDto"},{"Href":"https://localhost:7296/Produto/0014cae2-671f-4246-9d69-b1413711edae","Rel":"self","Method":"PUT","Arguments":["nome","descricao","peso","altura","largura","comprimento","valor","quantidadeEmEstoque","status","subcategoriaId","centroDeDistribuicaoId"],"$type":"LinkDto"},{"Href":"https://localhost:7296/Produto/0014cae2-671f-4246-9d69-b1413711edae","Rel":"self","Method":"DELETE","Arguments":null,"$type":"LinkDto"}].
2023-10-09 17:08:59.095 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commerce_API_.Data.DTOs.Error.ResponseDto`1[[E_Commerce_API_.Data.DTOs.ProdutoDto.ReadProdutoDto, E-Commerce(API), Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-09 17:08:59.102 -03:00 [INF] Executed action E_Commerce_API_.Controllers.ProdutoController.CadastrarProduto (E-Commerce(API)) in 132.7181ms
2023-10-09 17:08:59.102 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.ProdutoController.CadastrarProduto (E-Commerce(API))'
2023-10-09 17:08:59.102 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/Produto application/json 339 - 201 896 application/json;+charset=utf-8 168.4226ms
2023-10-09 17:09:22.169 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b application/json 91
2023-10-09 17:09:22.170 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.AdicionarProdutosAoCarrinho (E-Commerce(API))'
2023-10-09 17:09:22.170 -03:00 [INF] Route matched with {action = "AdicionarProdutosAoCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdicionarProdutosAoCarrinho(System.Guid, E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.AddProdutosAoCarrinhoDto) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 17:09:22.173 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 17:09:22.175 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 17:09:22.176 -03:00 [INF] Iniciada pesquisa do produto "0014cae2-671f-4246-9d69-b1413711edae".
2023-10-09 17:09:22.178 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-10-09 17:09:22.180 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:09:22.182 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-09 17:09:22.186 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:09:22.192 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = UInt32), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `ProdutosNoCarrinho` (`CarrinhoDeComprasId`, `ProdutoId`, `Quantidade`, `ValorNoCarrinho`)
VALUES (@p0, @p1, @p2, @p3);
2023-10-09 17:09:22.197 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 17:09:22.199 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:09:22.201 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-09 17:09:22.202 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:09:22.202 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 17:09:22.203 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.AdicionarProdutosAoCarrinho (E-Commerce(API)) in 32.8462ms
2023-10-09 17:09:22.203 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.AdicionarProdutosAoCarrinho (E-Commerce(API))'
2023-10-09 17:09:22.203 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b application/json 91 - 200 500 application/json;+charset=utf-8 33.4993ms
2023-10-09 17:12:29.000 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/GeradorDeCupom application/json 183
2023-10-09 17:12:29.001 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.GeradorDeCupomController.GerarCupomDeDesconto (E-Commerce(API))'
2023-10-09 17:12:29.002 -03:00 [INF] Route matched with {action = "GerarCupomDeDesconto", controller = "GeradorDeCupom"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GerarCupomDeDesconto(E_Commerce_API_.Data.DTOs.GeradorDeCupomDto.CreateCupomDeDescontoDto) on controller E_Commerce_API_.Controllers.GeradorDeCupomController (E-Commerce(API)).
2023-10-09 17:12:29.039 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Guid), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `CuponsDeDesconto` (`Id`, `Cupom`, `SetorDeDesconto`, `Status`, `TipoDeDesconto`, `Uso`, `ValorDoDesconto`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2023-10-09 17:12:29.041 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.GeradorDeCupomDto.ReadCupomDeDescontoDto'.
2023-10-09 17:12:29.044 -03:00 [INF] Executed action E_Commerce_API_.Controllers.GeradorDeCupomController.GerarCupomDeDesconto (E-Commerce(API)) in 41.2098ms
2023-10-09 17:12:29.044 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.GeradorDeCupomController.GerarCupomDeDesconto (E-Commerce(API))'
2023-10-09 17:12:29.044 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/GeradorDeCupom application/json 183 - 200 160 application/json;+charset=utf-8 43.9612ms
2023-10-09 17:12:41.208 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b/cupom/50offnopao - 0
2023-10-09 17:12:41.208 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 17:12:41.210 -03:00 [INF] Route matched with {action = "InserirCupomDeDesconto", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InserirCupomDeDesconto(System.Guid, System.String) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 17:12:41.214 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 17:12:41.235 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cupom_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Cupom` = @__cupom_0
LIMIT 1
2023-10-09 17:12:41.269 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (Size = 4000), @p6='?' (DbType = UInt32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `CupomDeDescontoId` = @p4, `Logradouro` = @p5, `Numero` = @p6, `UF` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-10-09 17:12:41.271 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 17:12:41.272 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 17:12:41.274 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 17:12:41.275 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 17:12:41.276 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 17:12:41.277 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-09 17:12:41.278 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:12:41.278 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 17:12:41.279 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API)) in 68.442ms
2023-10-09 17:12:41.279 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.InserirCupomDeDesconto (E-Commerce(API))'
2023-10-09 17:12:41.279 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b/cupom/50offnopao - 0 - 200 495 application/json;+charset=utf-8 70.8428ms
2023-10-09 17:13:08.859 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b - -
2023-10-09 17:13:08.859 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 17:13:08.859 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 17:13:08.862 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 17:13:08.862 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 17:13:08.864 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 17:13:08.865 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 17:13:08.866 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 17:13:08.869 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 17:13:08.871 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:13:08.873 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-09 17:13:08.874 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:13:08.875 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 17:13:08.875 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 15.4958ms
2023-10-09 17:13:08.875 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 17:13:08.875 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b - - - 200 495 application/json;+charset=utf-8 16.0605ms
2023-10-09 17:13:32.560 -03:00 [INF] Inicialização da WEB API...
2023-10-09 17:13:32.870 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 17:13:33.092 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 17:13:33.092 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 17:13:33.096 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 17:13:33.096 -03:00 [INF] Hosting environment: Development
2023-10-09 17:13:33.096 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 17:13:33.561 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 17:13:34.010 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 454.6743ms
2023-10-09 17:13:34.044 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 17:13:34.044 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 17:13:34.051 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 6.2372ms
2023-10-09 17:13:34.075 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.6756ms
2023-10-09 17:13:34.246 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 17:13:34.546 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 300.5583ms
2023-10-09 17:13:36.647 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b - -
2023-10-09 17:13:36.753 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 17:13:36.793 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 17:13:40.096 -03:00 [INF] Executed DbCommand (99ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 17:13:43.560 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 17:13:43.820 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 17:13:43.896 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 17:13:43.898 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 17:13:43.947 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 17:13:43.974 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:13:55.978 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-09 17:13:56.119 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:14:12.956 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:14:13.030 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-09 17:15:11.633 -03:00 [INF] Inicialização da WEB API...
2023-10-09 17:15:11.781 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 17:15:11.871 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 17:15:11.871 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 17:15:11.874 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 17:15:11.874 -03:00 [INF] Hosting environment: Development
2023-10-09 17:15:11.874 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 17:15:12.411 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 17:15:12.699 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 292.1868ms
2023-10-09 17:15:12.700 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 17:15:12.704 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 17:15:12.705 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 4.3263ms
2023-10-09 17:15:12.738 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.3607ms
2023-10-09 17:15:12.930 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 17:15:13.116 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 186.2433ms
2023-10-09 17:15:20.927 -03:00 [INF] Inicialização da WEB API...
2023-10-09 17:15:21.066 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-09 17:15:21.155 -03:00 [INF] Now listening on: https://localhost:7296
2023-10-09 17:15:21.155 -03:00 [INF] Now listening on: http://localhost:5090
2023-10-09 17:15:21.158 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-09 17:15:21.158 -03:00 [INF] Hosting environment: Development
2023-10-09 17:15:21.158 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-10-09 17:15:21.518 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-10-09 17:15:21.781 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 266.7511ms
2023-10-09 17:15:21.783 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-10-09 17:15:21.783 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-10-09 17:15:21.786 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 3.0410ms
2023-10-09 17:15:21.796 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 13.2586ms
2023-10-09 17:15:21.887 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-10-09 17:15:22.055 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 167.8794ms
2023-10-09 17:15:23.838 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b - -
2023-10-09 17:15:23.871 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 17:15:23.895 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-10-09 17:15:25.504 -03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`CupomDeDescontoId`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-10-09 17:15:25.603 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__carrinhoId_0
2023-10-09 17:15:25.695 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 17:15:25.727 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 17:15:25.731 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-10-09 17:15:25.755 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorNoCarrinho`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-10-09 17:15:25.765 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Cupom`, `c`.`SetorDeDesconto`, `c`.`Status`, `c`.`TipoDeDesconto`, `c`.`Uso`, `c`.`ValorDoDesconto`
FROM `CuponsDeDesconto` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:15:25.818 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-10-09 17:15:25.846 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-10-09 17:15:25.862 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-10-09 17:15:25.967 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 2067.3489ms
2023-10-09 17:15:25.967 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-10-09 17:15:25.973 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/3ee990b1-dba7-488b-b180-b6bb4e46c68b - - - 200 496 application/json;+charset=utf-8 2135.6349ms
